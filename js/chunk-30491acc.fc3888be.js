(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30491acc"],{2934:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"e",function(){return o}),n.d(e,"g",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"i",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"h",function(){return l}),n.d(e,"a",function(){return d}),n.d(e,"b",function(){return p});var a=n("c1fb");function r(t){return Object(a["a"])({baseURL:"/verification/code",method:"post",data:{number:t,scene:"merchant-forget-password"}})}function o(t){return a["a"].post("/auth/login",t)}function i(){return a["a"].put("/auth/logout")}function s(){return a["a"].get("/info")}function u(t){return a["a"].put("/info",t)}function c(t){return a["a"].put("/login/password",t)}function l(t){return a["a"].patch("/pay/password",t)}function d(t){return a["a"].put("/find/login/password",t)}function p(t){return a["a"].patch("/find/pay/password",t)}},"454f":function(t,e,n){n("46a7");var a=n("584a").Object;t.exports=function(t,e,n){return a.defineProperty(t,e,n)}},"46a7":function(t,e,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"5f22":function(t,e,n){},"61f7":function(t,e,n){"use strict";function a(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}function r(t){return/^1[0-9]{10}$/.test(t)}function o(t){var e=/^http[s]?:\/\/.*/;return e.test(t)}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o})},"690a":function(t,e,n){t.exports=n.p+"img/avatar.c58e4651.png"},"6aa1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"app-wrapper",class:{"app-sidebar--fold":t.sidebarFold},attrs:{"element-loading-text":"拼命加载中"}},[t.loading?t._e():[n("app-nav-bar"),n("app-side-bar"),n("div",{staticClass:"app-content__wrapper",style:{"min-height":t.documentClientHeight+"px"}},[n("app-content")],1)]],2)},r=[],o=(n("7f7f"),n("2b0e")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-navbar",class:{"app-aside--flod":t.navbarLayoutType}},[a("section",{staticClass:"app-navbar__header"},[a("h1",{staticClass:"app-navbar__logo",on:{click:function(e){return t.$router.push({name:"home"})}}},[a("span",{staticClass:"app-logo app-logo--large"},[t._v("链优品 商户后台")]),a("span",{staticClass:"app-logo app-logo--mini"},[t._v("链优品")])])]),a("section",{staticClass:"app-navbar__body clearfix"},[a("div",{staticClass:"app-navbar__switch",on:{click:function(e){t.sidebarFold=!t.sidebarFold}}},[a("icon",{staticClass:"app-sidebar__menu-icon",attrs:{name:"flod",width:18,height:18}})],1),a("el-menu",{staticClass:"app-navbar__menu",attrs:{mode:"horizontal"}},[a("el-menu-item",{staticClass:"app-navbar__user-info",attrs:{index:"3"}},[a("el-dropdown",{attrs:{"show-timeout":0,placement:"bottom"}},[a("div",{staticClass:"u-userbox"},[t.userAvatar?a("img",{staticClass:"u-userbox__avatar",attrs:{alt:t.userName,src:t.userAvatar}}):a("img",{staticClass:"u-userbox__avatar",attrs:{alt:t.userName,src:n("690a")}}),a("span",{staticClass:"u-userbox__name"},[t._v(t._s(t.userName))])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(e){return t.updateUserHandle()}}},[t._v("修改用户信息")]),a("el-dropdown-item",{nativeOn:{click:function(e){return t.updatePasswordHandle()}}},[t._v("修改密码")]),a("el-dropdown-item",{nativeOn:{click:function(e){return t.logoutHandle()}}},[t._v("退出")])],1)],1)],1)],1)],1)])},s=[],u=n("2934"),c={name:"AppNavBar",computed:{navbarLayoutType:{get:function(){return this.$store.state.common.navbarLayoutType}},sidebarFold:{get:function(){return this.$store.state.common.sidebarFold},set:function(t){this.$store.commit("common/updateSidebarFold",t)}},userName:{get:function(){return this.$store.state.user.name}},userAvatar:{get:function(){return this.$store.state.user.avatar}}},methods:{logoutByAcount:function(){var t=this;Object(u["g"])().then(function(){o["default"].cookie.delete("token_store"),t.$router.push({name:"login"})})},updateUserHandle:function(){this.$router.push({name:"user"})},updatePasswordHandle:function(){this.$router.push({name:"password"})},logoutHandle:function(){var t=this;this.$confirm("确定进行[退出]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.logoutByAcount()}).catch(function(){})}}},l=c,d=n("2877"),p=Object(d["a"])(l,i,s,!1,null,null,null),m=p.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"app-sidebar",class:"app-sidebar--"+t.sidebarLayoutSkin},[n("div",{staticClass:"app-sidebar__inner"},[n("el-menu",{staticClass:"app-sidebar__menu",attrs:{collapse:t.sidebarFold,collapseTransition:!1,"default-active":t.menuActiveName||"home"}},[n("el-menu-item",{attrs:{index:"order"},on:{click:function(e){return t.$router.push({name:"order"})}}},[n("icon",{staticClass:"app-sidebar__menu-icon",attrs:{name:"order",width:18,height:18}}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("商品订单")])],1),n("el-menu-item",{attrs:{index:"withdraw"},on:{click:function(e){return t.$router.push({name:"withdrawAddress"})}}},[n("icon",{staticClass:"app-sidebar__menu-icon",attrs:{name:"withdraw",width:18,height:18}}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("提现地址")])],1),n("el-menu-item",{attrs:{index:"wallet"},on:{click:function(e){return t.$router.push({name:"wallet"})}}},[n("icon",{staticClass:"app-sidebar__menu-icon",attrs:{name:"wallet",width:18,height:18}}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("钱包")])],1)],1)],1)])},h=[],g={name:"AppSidebar",computed:{sidebarFold:{get:function(){return this.$store.state.common.sidebarFold}},sidebarLayoutSkin:{get:function(){return this.$store.state.common.sidebarLayoutSkin}},menuActiveName:{get:function(){return this.$store.state.common.menuActiveName},set:function(t){this.$store.commit("common/updateMenuActiveName",t)}}}},v=g,b=Object(d["a"])(v,f,h,!1,null,null,null),_=b.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-content",class:{"app-content--tabs":t.$route.meta.isTab}},[n("el-card",{attrs:{"body-style":t.appContentViewHeight}},[n("keep-alive",[n("router-view")],1)],1)],1)},$=[],C=n("85f2"),k=n.n(C);function x(t,e,n){return e in t?k()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=n("61f7"),y={name:"AppContent",data:function(){return{}},computed:{documentClientHeight:{get:function(){return this.$store.state.common.documentClientHeight}},appContentViewHeight:function(){var t=this.documentClientHeight-50-30-2;return this.$route.meta.isTab?(t-=40,x({},Object(A["c"])(this.$route.meta.iframeUrl)?"height":"min-height",t+"px")):{"min-height":t+"px"}}}},H=y,N=Object(d["a"])(H,w,$,!1,null,null,null),O=N.exports,B={name:"AppWrap",components:{AppNavBar:m,AppSideBar:_,AppContent:O},data:function(){return{loading:!1}},computed:{documentClientHeight:{get:function(){return this.$store.state.common.documentClientHeight},set:function(t){this.$store.commit("common/updateDocumentClientHeight",t)}},sidebarFold:function(){return this.$store.state.common.sidebarFold},userId:{get:function(){return this.$store.state.user.id},set:function(t){this.$store.commit("user/updateId",t)}},userName:{get:function(){return this.$store.state.user.name},set:function(t){this.$store.commit("user/updateName",t)}},userAvatar:{get:function(){return this.$store.state.user.avatar},set:function(t){this.$store.commit("user/updateAvatar",t)}},userBalance:{get:function(){return this.$store.state.user.balance},set:function(t){this.$store.commit("user/updateBalance",t)}}},methods:{logoutByAcount:function(){var t=this;Object(u["g"])().then(function(){o["default"].cookie.delete("token_store"),t.$router.push({name:"login"})}).catch(function(){o["default"].cookie.delete("token_store"),t.$router.push({name:"login"})})},resetDocumentClientHeight:function(){var t=this;this.documentClientHeight=document.documentElement["clientHeight"],window.onresize=function(){t.documentClientHeight=document.documentElement["clientHeight"]}},getUserInfo:function(){var t=this;Object(u["c"])().then(function(e){var n=e.data;t.loading=!1,t.userId=n.id,t.userName=n.name,t.userAvatar=n.avatar?n.avatar.file_url:"",t.userBalance=n.cash_wallet?n.cash_wallet.balance:""}).catch(function(){t.$alert("获取当前用户信息失败，前往重新登录。","错误提示",{confirmButtonText:"确定",callback:function(){t.logoutByAcount()}})})}},created:function(){this.loading=!0,this.getUserInfo()},mounted:function(){this.resetDocumentClientHeight()}},F=B,j=(n("7f06"),Object(d["a"])(F,a,r,!1,null,null,null)),T=j.exports;e["default"]=T},"7f06":function(t,e,n){"use strict";var a=n("5f22"),r=n.n(a);r.a},"85f2":function(t,e,n){t.exports=n("454f")}}]);
//# sourceMappingURL=chunk-30491acc.fc3888be.js.map