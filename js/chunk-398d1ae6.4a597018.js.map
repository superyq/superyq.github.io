{"version":3,"sources":["webpack:///./src/views/canvas/adv-animation.vue?b1f3","webpack:///./src/canvas/adv-animation.js","webpack:///src/views/canvas/adv-animation.vue","webpack:///./src/views/canvas/adv-animation.vue?fdfa","webpack:///./src/views/canvas/adv-animation.vue","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","sun","Image","moon","earth","methods","drawSun","ctx","globalCompositeOperation","clearRect","fillStyle","strokeStyle","save","translate","time","Date","rotate","Math","PI","getSeconds","getMilliseconds","fillRect","drawImage","restore","beginPath","arc","stroke","drawClock","now","scale","lineWidth","lineCap","i","moveTo","lineTo","sec","min","getMinutes","hr","getHours","fill","drawImages","img","src","imgW","imgH","clearX","clearY","CanvasXSize","CanvasYSize","speed","y","dx","x","onload","width","height","setInterval","mounted","canvas","document","getElementById","getContext","name","mixins","component","toObject","toAbsoluteIndex","toLength","module","exports","value","O","length","aLen","arguments","index","undefined","end","endPos","$export","P"],"mappings":"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","file":"js/chunk-398d1ae6.4a597018.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{attrs:{\"id\":\"advAnimation\",\"width\":\"800\",\"height\":\"800\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var sun = new Image();\r\nvar moon = new Image();\r\nvar earth = new Image();\r\n\r\nexport default {\r\n  methods: {\r\n    drawSun(ctx) {\r\n      ctx.globalCompositeOperation = \"destination-over\"; // 在现有的画布内容后面绘制新的图形\r\n      ctx.clearRect(0, 0, 800, 800); // clear canvas\r\n\r\n      ctx.fillStyle = \"rgba(0,0,0,0.4)\";\r\n      ctx.strokeStyle = \"rgba(0,153,255,0.4)\";\r\n      ctx.save();\r\n      ctx.translate(400, 400);\r\n\r\n      // Earth\r\n      var time = new Date();\r\n      ctx.rotate(\r\n        ((2 * Math.PI) / 60) * time.getSeconds() +\r\n          ((2 * Math.PI) / 60000) * time.getMilliseconds()\r\n      );\r\n      ctx.translate(105, 0);\r\n      ctx.fillRect(0, -12, 50, 24); // Shadow\r\n      ctx.drawImage(earth, -12, -12);\r\n\r\n      // Moon\r\n      ctx.save();\r\n      ctx.rotate(\r\n        ((2 * Math.PI) / 6) * time.getSeconds() +\r\n          ((2 * Math.PI) / 6000) * time.getMilliseconds()\r\n      );\r\n      ctx.translate(0, 28.5);\r\n      ctx.drawImage(moon, -3.5, -3.5);\r\n      ctx.restore();\r\n\r\n      ctx.restore();\r\n\r\n      ctx.beginPath();\r\n      ctx.arc(400, 400, 105, 0, Math.PI * 2, false); // Earth orbit\r\n      ctx.stroke();\r\n\r\n      ctx.drawImage(sun, 250, 250, 300, 300);\r\n    },\r\n    drawClock(ctx) {\r\n      var now = new Date();\r\n      ctx.save();\r\n      ctx.clearRect(0, 0, 150, 150);\r\n      ctx.translate(75, 75);\r\n      ctx.scale(0.4, 0.4);\r\n      ctx.rotate(-Math.PI / 2);\r\n      ctx.strokeStyle = \"black\";\r\n      ctx.fillStyle = \"white\";\r\n      ctx.lineWidth = 8;\r\n      ctx.lineCap = \"round\";\r\n\r\n      // Hour marks\r\n      ctx.save();\r\n      for (var i = 0; i < 12; i++) {\r\n        ctx.beginPath();\r\n        ctx.rotate(Math.PI / 6);\r\n        ctx.moveTo(100, 0);\r\n        ctx.lineTo(120, 0);\r\n        ctx.stroke();\r\n      }\r\n      ctx.restore();\r\n\r\n      // // Minute marks\r\n      ctx.save();\r\n      ctx.lineWidth = 5;\r\n      for (i = 0; i < 60; i++) {\r\n        if (i % 5 != 0) {\r\n          ctx.beginPath();\r\n          ctx.moveTo(117, 0);\r\n          ctx.lineTo(120, 0);\r\n          ctx.stroke();\r\n        }\r\n        ctx.rotate(Math.PI / 30);\r\n      }\r\n      ctx.restore();\r\n\r\n      var sec = now.getSeconds();\r\n      var min = now.getMinutes();\r\n      var hr = now.getHours();\r\n      hr = hr >= 12 ? hr - 12 : hr;\r\n\r\n      ctx.fillStyle = \"black\";\r\n\r\n      // write Hours\r\n      ctx.save();\r\n      ctx.rotate(\r\n        hr * (Math.PI / 6) + (Math.PI / 360) * min + (Math.PI / 21600) * sec\r\n      );\r\n      ctx.lineWidth = 14;\r\n      ctx.beginPath();\r\n      ctx.moveTo(-20, 0);\r\n      ctx.lineTo(80, 0);\r\n      ctx.stroke();\r\n      ctx.restore();\r\n\r\n      // write Minutes\r\n      ctx.save();\r\n      ctx.rotate((Math.PI / 30) * min + (Math.PI / 1800) * sec);\r\n      ctx.lineWidth = 10;\r\n      ctx.beginPath();\r\n      ctx.moveTo(-28, 0);\r\n      ctx.lineTo(112, 0);\r\n      ctx.stroke();\r\n      ctx.restore();\r\n\r\n      // // Write seconds\r\n      ctx.save();\r\n      ctx.rotate((sec * Math.PI) / 30);\r\n      ctx.strokeStyle = \"#D40000\";\r\n      ctx.fillStyle = \"#D40000\";\r\n      ctx.lineWidth = 6;\r\n      ctx.beginPath();\r\n      ctx.moveTo(-30, 0);\r\n      ctx.lineTo(83, 0);\r\n      ctx.stroke();\r\n      ctx.beginPath();\r\n      ctx.arc(0, 0, 10, 0, Math.PI * 2, true);\r\n      ctx.fill();\r\n      ctx.beginPath();\r\n      ctx.arc(95, 0, 10, 0, Math.PI * 2, true);\r\n      ctx.stroke();\r\n      ctx.fillStyle = \"rgba(0,0,0,0)\";\r\n      ctx.arc(0, 0, 3, 0, Math.PI * 2, true);\r\n      ctx.fill();\r\n      ctx.restore();\r\n\r\n      ctx.beginPath();\r\n      ctx.lineWidth = 14;\r\n      ctx.strokeStyle = \"#325FA2\";\r\n      ctx.arc(0, 0, 142, 0, Math.PI * 2, true);\r\n      ctx.stroke();\r\n\r\n      ctx.restore();\r\n    },\r\n    drawImages(ctx) {\r\n      var img = new Image();\r\n\r\n      img.src =\r\n        \"https://mdn.mozillademos.org/files/4553/Capitan_Meadows,_Yosemite_National_Park.jpg\";\r\n      var CanvasXSize = 800;\r\n      var CanvasYSize = 200;\r\n      var speed = 30; //lower is faster\r\n      var scale = 1.05;\r\n      var y = -4.5; //vertical offset\r\n\r\n      // Main program\r\n\r\n      var dx = 0.75;\r\n      var imgW;\r\n      var imgH;\r\n      var x = 0;\r\n      var clearX;\r\n      var clearY;\r\n\r\n      img.onload = function() {\r\n        imgW = img.width * scale;\r\n        imgH = img.height * scale;\r\n        if (imgW > CanvasXSize) {\r\n          x = CanvasXSize - imgW;\r\n        } // image larger than canvas\r\n        if (imgW > CanvasXSize) {\r\n          clearX = imgW;\r\n        } // image larger than canvas\r\n        else {\r\n          clearX = CanvasXSize;\r\n        }\r\n        if (imgH > CanvasYSize) {\r\n          clearY = imgH;\r\n        } // image larger than canvas\r\n        else {\r\n          clearY = CanvasYSize;\r\n        }\r\n        //Set Refresh Rate\r\n        return setInterval(() => {\r\n          ctx.clearRect(0, 0, clearX, clearY);\r\n          //If image is <= Canvas Size\r\n          if (imgW <= CanvasXSize) {\r\n            //reset, start from beginning\r\n            if (x > CanvasXSize) {\r\n              x = 0;\r\n            }\r\n            //draw aditional image\r\n            if (x > CanvasXSize - imgW) {\r\n              ctx.drawImage(img, x - CanvasXSize + 1, y, imgW, imgH);\r\n            }\r\n          }\r\n          //If image is > Canvas Size\r\n          else {\r\n            //reset, start from beginning\r\n            if (x > CanvasXSize) {\r\n              x = CanvasXSize - imgW;\r\n            }\r\n            //draw aditional image\r\n            if (x > CanvasXSize - imgW) {\r\n              ctx.drawImage(img, x - imgW + 1, y, imgW, imgH);\r\n            }\r\n          }\r\n          //draw image\r\n          ctx.drawImage(img, x, y, imgW, imgH);\r\n          //amount to move\r\n          x += dx;\r\n        }, speed);\r\n      };\r\n    }\r\n  },\r\n  mounted() {\r\n    const canvas = document.getElementById(\"advAnimation\");\r\n    const ctx = canvas.getContext(\"2d\");\r\n\r\n    sun.src = \"https://mdn.mozillademos.org/files/1456/Canvas_sun.png\";\r\n    moon.src = \"https://mdn.mozillademos.org/files/1443/Canvas_moon.png\";\r\n    earth.src = \"https://mdn.mozillademos.org/files/1429/Canvas_earth.png\";\r\n\r\n    // 重绘太阳\r\n    // setInterval(() => {\r\n    //   this.drawSun(ctx);\r\n    // }, 10);\r\n\r\n    // 重绘闹钟\r\n    // setInterval(() => {\r\n    //   this.drawClock(ctx);\r\n    // }, 10);\r\n\r\n    // 循环全景图片\r\n    this.drawImages(ctx);\r\n  }\r\n};\r\n","<template lang=\"pug\">\r\n  canvas(id='advAnimation', width='800', height='800')\r\n</template>\r\n\r\n<script>\r\nimport advAnimation from \"@/canvas/adv-animation.js\";\r\n\r\nexport default {\r\n  name: 'AdvAnimation',\r\n  mixins: [advAnimation]\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--10-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./adv-animation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--10-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./adv-animation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./adv-animation.vue?vue&type=template&id=5fb7cf16&lang=pug&\"\nimport script from \"./adv-animation.vue?vue&type=script&lang=js&\"\nexport * from \"./adv-animation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n"],"sourceRoot":""}