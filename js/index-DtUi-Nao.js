import{g as fe,t as _,c as Zt,v as We,be as _n,bf as wn,aB as xn,r as K,aG as Kt,h as F,ax as Rn,aH as le,o as bt,bg as Sn,bh as it,bi as en,an as Nn,b as M,d as me,al as W,aM as jt,f as Oe,aL as He,bj as Cn,u as tn,as as Tn,j as pt,bk as Kn,aO as nn,w as at,ai as B,aE as Be,p as qe,ah as mt,bl as ot,bm as zt,bn as En,aF as H,ae as Ft,bo as Et,l as ln,q as Pt,b0 as It,bp as Dn,bq as Ht,ap as Pn,br as In,bs as On,bt as An,bu as Ln,bv as Ot,bw as Fn,bx as Vn,by as Bn,bz as Un,bA as $n,at as Mn,aU as an,bB as jn,s as zn,bC as Hn,bD as qn,bE as Wn,B as ye,K as At,J as Y,W as qt,M as on,bF as dt,bG as Yn,bH as Gn,U as yt,bI as Xn,C as Ce,F as w,D as ee,N as Lt,a2 as Wt,aV as Qn,X as Yt,L as Jn,Q as Zn,b3 as el,b9 as P,a5 as rn,ad as Gt,Y as rt,af as tl}from"./index-D8FvNXUN.js";import{_ as nl}from"./YSelect.vue_vue_type_script_setup_true_lang-CnquiqKQ.js";import{_ as Ve}from"./YInput.vue_vue_type_script_setup_true_lang-CHBbIbhD.js";import{_ as ll}from"./YTable.vue_vue_type_script_setup_true_lang-CKcpUPzs.js";import{a as al,c as ol,b as rl}from"./table-Clx5OpyC.js";import{_ as il}from"./YSwitch.vue_vue_type_script_setup_true_lang-CpxiYOGJ.js";import{_ as dl}from"./YRadio.vue_vue_type_script_setup_true_lang-DZQEf_TB.js";import{a as sl}from"./Checkbox-BbYC2Rpd.js";import{N as Ne,_ as cl}from"./FormItem-Cw9taY8m.js";import"./RadioGroup-C7b_XRL3.js";import"./Dropdown-D7yZdgzE.js";import"./use-keyboard-cUwMenjY.js";function dn(e){return typeof e=="string"?`s-${e}`:`n-${e}`}const ul=fe({name:"Switcher",render(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},_("path",{d:"M12 8l10 8l-10 8z"}))}}),Vt=Zt("n-tree-select"),st=Zt("n-tree"),fl=fe({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},expanded:Boolean,selected:Boolean,hide:Boolean,loading:Boolean,onClick:Function,tmNode:{type:Object,required:!0}},setup(e){const{renderSwitcherIconRef:l}=We(st,null);return()=>{const{clsPrefix:i,expanded:c,hide:r,indent:a,onClick:R}=e;return _("span",{"data-switcher":!0,class:[`${i}-tree-node-switcher`,c&&`${i}-tree-node-switcher--expanded`,r&&`${i}-tree-node-switcher--hide`],style:{width:`${a}px`},onClick:R},_("div",{class:`${i}-tree-node-switcher__icon`},_(_n,null,{default:()=>{if(e.loading)return _(wn,{clsPrefix:i,key:"loading",radius:85,strokeWidth:20});const{value:y}=l;return y?y({expanded:e.expanded,selected:e.selected,option:e.tmNode.rawNode}):_(xn,{clsPrefix:i,key:"switcher"},{default:()=>_(ul,null)})}})))}}}),hl=fe({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const l=We(st);function i(r){const{onCheck:a}=e;a&&a(r)}function c(r){i(r)}return{handleUpdateValue:c,mergedTheme:l.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:l,checked:i,indeterminate:c,disabled:r,focusable:a,indent:R,handleUpdateValue:y}=this;return _("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],style:{width:`${R}px`},"data-checkbox":!0},_(sl,{focusable:a,disabled:r,theme:l.peers.Checkbox,themeOverrides:l.peerOverrides.Checkbox,checked:i,indeterminate:c,onUpdateChecked:y}))}}),vl=fe({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:l,renderPrefixRef:i,renderSuffixRef:c,labelFieldRef:r}=We(st),a=K(null);function R(f){const{onClick:x}=e;x&&x(f)}function y(f){R(f)}return{selfRef:a,renderLabel:l,renderPrefix:i,renderSuffix:c,labelField:r,handleClick:y}},render(){const{clsPrefix:e,labelField:l,nodeProps:i,checked:c=!1,selected:r=!1,renderLabel:a,renderPrefix:R,renderSuffix:y,handleClick:f,onDragstart:x,tmNode:{rawNode:m,rawNode:{prefix:T,suffix:N,[l]:I}}}=this;return _("span",Object.assign({},i,{ref:"selfRef",class:[`${e}-tree-node-content`,i==null?void 0:i.class],onClick:f,draggable:x===void 0?void 0:!0,onDragstart:x}),R||T?_("div",{class:`${e}-tree-node-content__prefix`},R?R({option:m,selected:r,checked:c}):Kt(T)):null,_("div",{class:`${e}-tree-node-content__text`},a?a({option:m,selected:r,checked:c}):Kt(I)),y||N?_("div",{class:`${e}-tree-node-content__suffix`},y?y({option:m,selected:r,checked:c}):Kt(N)):null)}});function Xt({position:e,offsetLevel:l,indent:i,el:c}){const r={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")r.left=0,r.top=0,r.bottom=0,r.borderRadius="inherit",r.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const a=e==="before"?"top":"bottom";r[a]=0,r.left=`${c.offsetLeft+6-l*i}px`,r.height="2px",r.backgroundColor="var(--n-drop-mark-color)",r.transformOrigin=a,r.borderRadius="1px",r.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return _("div",{style:r})}function gl({dropPosition:e,node:l}){return l.isLeaf===!1||l.children?!0:e!=="inside"}function sn(e){return F(()=>e.leafOnly?"child":e.checkStrategy)}function Ie(e,l){return!!e.rawNode[l]}function cn(e,l,i,c){e==null||e.forEach(r=>{i(r),cn(r[l],l,i,c),c(r)})}function ml(e,l,i,c,r){const a=new Set,R=new Set,y=[];return cn(e,c,f=>{if(y.push(f),r(l,f)){R.add(f[i]);for(let x=y.length-2;x>=0;--x)if(!a.has(y[x][i]))a.add(y[x][i]);else return}},()=>{y.pop()}),{expandedKeys:Array.from(a),highlightKeySet:R}}if(Rn&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function yl(e,l,i,c,r){const a=new Set,R=new Set,y=new Set,f=[],x=[],m=[];function T(I){I.forEach(k=>{if(m.push(k),l(i,k)){a.add(k[c]),y.add(k[c]);for(let d=m.length-2;d>=0;--d){const s=m[d][c];if(!R.has(s))R.add(s),a.has(s)&&a.delete(s);else break}}const v=k[r];v&&T(v),m.pop()})}T(e);function N(I,k){I.forEach(v=>{const d=v[c],s=a.has(d),S=R.has(d);if(!s&&!S)return;const O=v[r];if(O)if(s)k.push(v);else{f.push(d);const E=Object.assign(Object.assign({},v),{[r]:[]});k.push(E),N(O,E[r])}else k.push(v)})}return N(e,x),{filteredTree:x,highlightKeySet:y,expandedKeys:f}}const bl=fe({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const l=We(st),{droppingNodeParentRef:i,droppingMouseNodeRef:c,draggingNodeRef:r,droppingPositionRef:a,droppingOffsetLevelRef:R,nodePropsRef:y,indentRef:f,blockLineRef:x,checkboxPlacementRef:m,checkOnClickRef:T,disabledFieldRef:N,showLineRef:I,renderSwitcherIconRef:k,overrideDefaultNodeClickBehaviorRef:v}=l,d=le(()=>!!e.tmNode.rawNode.checkboxDisabled),s=le(()=>Ie(e.tmNode,N.value)),S=le(()=>l.disabledRef.value||s.value),O=F(()=>{const{value:g}=y;if(g)return g({option:e.tmNode.rawNode})}),E=K(null),G={value:null};bt(()=>{G.value=E.value.$el});function J(){const g=()=>{const{tmNode:A}=e;if(!A.isLeaf&&!A.shallowLoaded){if(!l.loadingKeysRef.value.has(A.key))l.loadingKeysRef.value.add(A.key);else return;const{onLoadRef:{value:L}}=l;L&&L(A.rawNode).then(z=>{z!==!1&&l.handleSwitcherClick(A)}).finally(()=>{l.loadingKeysRef.value.delete(A.key)})}else l.handleSwitcherClick(A)};k.value?setTimeout(g,0):g()}const Te=le(()=>!s.value&&l.selectableRef.value&&(l.internalTreeSelect?l.mergedCheckStrategyRef.value!=="child"||l.multipleRef.value&&l.cascadeRef.value||e.tmNode.isLeaf:!0)),te=le(()=>l.checkableRef.value&&(l.cascadeRef.value||l.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),pe=le(()=>l.displayedCheckedKeysRef.value.includes(e.tmNode.key)),ke=le(()=>{const{value:g}=te;if(!g)return!1;const{value:A}=T,{tmNode:L}=e;return typeof A=="boolean"?!L.disabled&&A:A(e.tmNode.rawNode)});function _e(g){const{value:A}=l.expandOnClickRef,{value:L}=Te,{value:z}=ke;if(!L&&!A&&!z||it(g,"checkbox")||it(g,"switcher"))return;const{tmNode:X}=e;L&&l.handleSelect(X),A&&!X.isLeaf&&J(),z&&Z(!pe.value)}function Ke(g){var A,L;if(!(it(g,"checkbox")||it(g,"switcher"))){if(!S.value){const z=v.value;let X=!1;if(z)switch(z({option:e.tmNode.rawNode})){case"toggleCheck":X=!0,Z(!pe.value);break;case"toggleSelect":X=!0,l.handleSelect(e.tmNode);break;case"toggleExpand":X=!0,J(),X=!0;break;case"none":X=!0,X=!0;return}X||_e(g)}(L=(A=O.value)===null||A===void 0?void 0:A.onClick)===null||L===void 0||L.call(A,g)}}function Ye(g){x.value||Ke(g)}function ae(g){x.value&&Ke(g)}function Z(g){l.handleCheck(e.tmNode,g)}function we(g){l.handleDragStart({event:g,node:e.tmNode})}function Ge(g){g.currentTarget===g.target&&l.handleDragEnter({event:g,node:e.tmNode})}function oe(g){g.preventDefault(),l.handleDragOver({event:g,node:e.tmNode})}function xe(g){l.handleDragEnd({event:g,node:e.tmNode})}function Ae(g){g.currentTarget===g.target&&l.handleDragLeave({event:g,node:e.tmNode})}function Xe(g){g.preventDefault(),a.value!==null&&l.handleDrop({event:g,node:e.tmNode,dropPosition:a.value})}const Ee=F(()=>{const{clsPrefix:g}=e,{value:A}=f;if(I.value){const L=[];let z=e.tmNode.parent;for(;z;)z.isLastChild?L.push(_("div",{class:`${g}-tree-node-indent`},_("div",{style:{width:`${A}px`}}))):L.push(_("div",{class:[`${g}-tree-node-indent`,`${g}-tree-node-indent--show-line`]},_("div",{style:{width:`${A}px`}}))),z=z.parent;return L.reverse()}else return Sn(e.tmNode.level,_("div",{class:`${e.clsPrefix}-tree-node-indent`},_("div",{style:{width:`${A}px`}})))});return{showDropMark:le(()=>{const{value:g}=r;if(!g)return;const{value:A}=a;if(!A)return;const{value:L}=c;if(!L)return;const{tmNode:z}=e;return z.key===L.key}),showDropMarkAsParent:le(()=>{const{value:g}=i;if(!g)return!1;const{tmNode:A}=e,{value:L}=a;return L==="before"||L==="after"?g.key===A.key:!1}),pending:le(()=>l.pendingNodeKeyRef.value===e.tmNode.key),loading:le(()=>l.loadingKeysRef.value.has(e.tmNode.key)),highlight:le(()=>{var g;return(g=l.highlightKeySetRef.value)===null||g===void 0?void 0:g.has(e.tmNode.key)}),checked:pe,indeterminate:le(()=>l.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:le(()=>l.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:le(()=>l.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:S,checkable:te,mergedCheckOnClick:ke,checkboxDisabled:d,selectable:Te,expandOnClick:l.expandOnClickRef,internalScrollable:l.internalScrollableRef,draggable:l.draggableRef,blockLine:x,nodeProps:O,checkboxFocusable:l.internalCheckboxFocusableRef,droppingPosition:a,droppingOffsetLevel:R,indent:f,checkboxPlacement:m,showLine:I,contentInstRef:E,contentElRef:G,indentNodes:Ee,handleCheck:Z,handleDrop:Xe,handleDragStart:we,handleDragEnter:Ge,handleDragOver:oe,handleDragEnd:xe,handleDragLeave:Ae,handleLineClick:ae,handleContentClick:Ye,handleSwitcherClick:J}},render(){const{tmNode:e,clsPrefix:l,checkable:i,expandOnClick:c,selectable:r,selected:a,checked:R,highlight:y,draggable:f,blockLine:x,indent:m,indentNodes:T,disabled:N,pending:I,internalScrollable:k,nodeProps:v,checkboxPlacement:d}=this,s=f&&!N?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,S=k?dn(e.key):void 0,O=d==="right",E=i?_(hl,{indent:m,right:O,focusable:this.checkboxFocusable,disabled:N||this.checkboxDisabled,clsPrefix:l,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return _("div",Object.assign({class:`${l}-tree-node-wrapper`},s),_("div",Object.assign({},x?v:void 0,{class:[`${l}-tree-node`,{[`${l}-tree-node--selected`]:a,[`${l}-tree-node--checkable`]:i,[`${l}-tree-node--highlight`]:y,[`${l}-tree-node--pending`]:I,[`${l}-tree-node--disabled`]:N,[`${l}-tree-node--selectable`]:r,[`${l}-tree-node--clickable`]:r||c||this.mergedCheckOnClick},v==null?void 0:v.class],"data-key":S,draggable:f&&x,onClick:this.handleLineClick,onDragstart:f&&x&&!N?this.handleDragStart:void 0}),T,e.isLeaf&&this.showLine?_("div",{class:[`${l}-tree-node-indent`,`${l}-tree-node-indent--show-line`,e.isLeaf&&`${l}-tree-node-indent--is-leaf`,e.isLastChild&&`${l}-tree-node-indent--last-child`]},_("div",{style:{width:`${m}px`}})):_(fl,{clsPrefix:l,expanded:this.expanded,selected:a,loading:this.loading,hide:e.isLeaf,tmNode:this.tmNode,indent:m,onClick:this.handleSwitcherClick}),O?null:E,_(vl,{ref:"contentInstRef",clsPrefix:l,checked:R,selected:a,onClick:this.handleContentClick,nodeProps:x?void 0:v,onDragstart:f&&!x&&!N?this.handleDragStart:void 0,tmNode:e}),f?this.showDropMark?Xt({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:m}):this.showDropMarkAsParent?Xt({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:m}):null:null,O?E:null))}}),un=bl;function pl({props:e,fNodesRef:l,mergedExpandedKeysRef:i,mergedSelectedKeysRef:c,mergedCheckedKeysRef:r,handleCheck:a,handleSelect:R,handleSwitcherClick:y}){const{value:f}=c,x=We(Vt,null),m=x?x.pendingNodeKeyRef:K(f.length?f[f.length-1]:null);function T(N){var I;if(!e.keyboard)return{enterBehavior:null};const{value:k}=m;let v=null;if(k===null){if((N.key==="ArrowDown"||N.key==="ArrowUp")&&N.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(N.key)&&k===null){const{value:d}=l;let s=0;for(;s<d.length;){if(!d[s].disabled){m.value=d[s].key;break}s+=1}}}else{const{value:d}=l;let s=d.findIndex(S=>S.key===k);if(!~s)return{enterBehavior:null};if(N.key==="Enter"){const S=d[s];switch(v=((I=e.overrideDefaultNodeClickBehavior)===null||I===void 0?void 0:I.call(e,{option:S.rawNode}))||null,v){case"toggleCheck":a(S,!r.value.includes(S.key));break;case"toggleSelect":R(S);break;case"toggleExpand":y(S);break;case"none":break;case"default":default:v="default",R(S)}}else if(N.key==="ArrowDown")for(N.preventDefault(),s+=1;s<d.length;){if(!d[s].disabled){m.value=d[s].key;break}s+=1}else if(N.key==="ArrowUp")for(N.preventDefault(),s-=1;s>=0;){if(!d[s].disabled){m.value=d[s].key;break}s-=1}else if(N.key==="ArrowLeft"){const S=d[s];if(S.isLeaf||!i.value.includes(k)){const O=S.getParent();O&&(m.value=O.key)}else y(S)}else if(N.key==="ArrowRight"){const S=d[s];if(S.isLeaf)return{enterBehavior:null};if(!i.value.includes(k))y(S);else for(s+=1;s<d.length;){if(!d[s].disabled){m.value=d[s].key;break}s+=1}}}return{enterBehavior:v}}return{pendingNodeKeyRef:m,handleKeydown:T}}const kl=fe({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return _(Nn,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>_("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:en(this.height)}},this.nodes.map(l=>_(un,{clsPrefix:e,tmNode:l})))})}}),Dt=Cn(),_l=M("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[me("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),me(">",[M("tree-node",[me("&:first-child","margin-top: 0;")])]),M("tree-motion-wrapper",[W("expand",[jt({duration:"0.2s"})]),W("collapse",[jt({duration:"0.2s",reverse:!0})])]),M("tree-node-wrapper",`
 box-sizing: border-box;
 padding: var(--n-node-wrapper-padding);
 `),M("tree-node",`
 transform: translate3d(0,0,0);
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[W("highlight",[M("tree-node-content",[Oe("text","border-bottom-color: var(--n-node-text-color-disabled);")])]),W("disabled",[M("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),He("disabled",[W("clickable",[M("tree-node-content",`
 cursor: pointer;
 `)])])]),W("block-node",[M("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),He("block-line",[M("tree-node",[He("disabled",[M("tree-node-content",[me("&:hover","background: var(--n-node-color-hover);")]),W("selectable",[M("tree-node-content",[me("&:active","background: var(--n-node-color-pressed);")])]),W("pending",[M("tree-node-content",`
 background: var(--n-node-color-hover);
 `)]),W("selected",[M("tree-node-content","background: var(--n-node-color-active);")])]),W("selected",[M("tree-node-content","background: var(--n-node-color-active);")])])]),W("block-line",[M("tree-node",[He("disabled",[me("&:hover","background: var(--n-node-color-hover);"),W("pending",`
 background: var(--n-node-color-hover);
 `),W("selectable",[He("selected",[me("&:active","background: var(--n-node-color-pressed);")])]),W("selected","background: var(--n-node-color-active);")]),W("selected","background: var(--n-node-color-active);"),W("disabled",`
 cursor: not-allowed;
 `)])]),M("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 `,[W("show-line","position: relative",[me("&::before",`
 position: absolute;
 left: 50%;
 border-left: 1px solid var(--n-line-color);
 transition: border-color .3s var(--n-bezier);
 transform: translate(-50%);
 content: "";
 top: var(--n-line-offset-top);
 bottom: var(--n-line-offset-bottom);
 `),W("last-child",[me("&::before",`
 bottom: 50%;
 `)]),W("is-leaf",[me("&::after",`
 position: absolute;
 content: "";
 left: calc(50% + 0.5px);
 right: 0;
 bottom: 50%;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-line-color);
 `)])]),He("show-line","height: 0;")]),M("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: var(--n-node-content-height);
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[Oe("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[M("icon",[Dt]),M("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[Dt]),M("base-icon",[Dt])]),W("hide","visibility: hidden;"),W("expanded","transform: rotate(90deg);")]),M("tree-node-checkbox",`
 display: inline-flex;
 height: var(--n-node-content-height);
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 `),M("tree-node-content",`
 user-select: none;
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: var(--n-node-content-height);
 box-sizing: border-box;
 line-height: var(--n-line-height);
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[me("&:last-child","margin-bottom: 0;"),Oe("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),Oe("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),Oe("suffix",`
 display: inline-flex;
 `)]),Oe("empty","margin: auto;")]);var wl=function(e,l,i,c){function r(a){return a instanceof i?a:new i(function(R){R(a)})}return new(i||(i=Promise))(function(a,R){function y(m){try{x(c.next(m))}catch(T){R(T)}}function f(m){try{x(c.throw(m))}catch(T){R(T)}}function x(m){m.done?a(m.value):r(m.value).then(y,f)}x((c=c.apply(e,l||[])).next())})};function fn(e,l,i,c){return{getIsGroup(){return!1},getKey(a){return a[e]},getChildren:c||(a=>a[l]),getDisabled(a){return!!(a[i]||a.checkboxDisabled)}}}const hn={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array],overrideDefaultNodeClickBehavior:Function},xl=Object.assign(Object.assign(Object.assign(Object.assign({},pt.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,showLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},scrollbarProps:Object,indent:{type:Number,default:24},allowDrop:{type:Function,default:gl},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},getChildren:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),hn),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),Rl=fe({name:"Tree",props:xl,setup(e){const{mergedClsPrefixRef:l,inlineThemeDisabled:i,mergedRtlRef:c}=tn(e),r=Tn("Tree",c,l),a=pt("Tree","-tree",_l,Kn,e,l),R=K(null),y=K(null),f=K(null);function x(){var t;return(t=f.value)===null||t===void 0?void 0:t.listElRef}function m(){var t;return(t=f.value)===null||t===void 0?void 0:t.itemsElRef}const T=F(()=>{const{filter:t}=e;if(t)return t;const{labelField:o}=e;return(u,b)=>{if(!u.length)return!0;const p=b[o];return typeof p=="string"?p.toLowerCase().includes(u.toLowerCase()):!1}}),N=F(()=>{const{pattern:t}=e;return t?!t.length||!T.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:yl(e.data,T.value,t,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),I=F(()=>nn(e.showIrrelevantNodes?e.data:N.value.filteredTree,fn(e.keyField,e.childrenField,e.disabledField,e.getChildren))),k=We(Vt,null),v=e.internalTreeSelect?k.dataTreeMate:I,{watchProps:d}=e,s=K([]);d!=null&&d.includes("defaultCheckedKeys")?at(()=>{s.value=e.defaultCheckedKeys}):s.value=e.defaultCheckedKeys;const S=B(e,"checkedKeys"),O=Be(S,s),E=F(()=>v.value.getCheckedKeys(O.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),G=sn(e),J=F(()=>E.value.checkedKeys),Te=F(()=>{const{indeterminateKeys:t}=e;return t!==void 0?t:E.value.indeterminateKeys}),te=K([]);d!=null&&d.includes("defaultSelectedKeys")?at(()=>{te.value=e.defaultSelectedKeys}):te.value=e.defaultSelectedKeys;const pe=B(e,"selectedKeys"),ke=Be(pe,te),_e=K([]),Ke=t=>{_e.value=e.defaultExpandAll?v.value.getNonLeafKeys():t===void 0?e.defaultExpandedKeys:t};d!=null&&d.includes("defaultExpandedKeys")?at(()=>{Ke(void 0)}):at(()=>{Ke(e.defaultExpandedKeys)});const Ye=B(e,"expandedKeys"),ae=Be(Ye,_e),Z=F(()=>I.value.getFlattenedNodes(ae.value)),{pendingNodeKeyRef:we,handleKeydown:Ge}=pl({props:e,mergedCheckedKeysRef:O,mergedSelectedKeysRef:ke,fNodesRef:Z,mergedExpandedKeysRef:ae,handleCheck:h,handleSelect:V,handleSwitcherClick:C});let oe=null,xe=null;const Ae=K(new Set),Xe=F(()=>e.internalHighlightKeySet||N.value.highlightKeySet),Ee=Be(Xe,Ae),g=K(new Set),A=F(()=>ae.value.filter(t=>!g.value.has(t)));let L=0;const z=K(null),X=K(null),Le=K(null),Fe=K(null),de=K(0),Qe=F(()=>{const{value:t}=X;return t?t.parent:null});let Je=!1;qe(B(e,"data"),()=>{Je=!0,mt(()=>{Je=!1}),g.value.clear(),we.value=null,Se()},{deep:!1});let Ze=!1;const et=()=>{Ze=!0,mt(()=>{Ze=!1})};let se;qe(B(e,"pattern"),(t,o)=>{if(e.showIrrelevantNodes)if(se=void 0,t){const{expandedKeys:u,highlightKeySet:b}=ml(e.data,e.pattern,e.keyField,e.childrenField,T.value);Ae.value=b,et(),Pe(u,ne(u),{node:null,action:"filter"})}else Ae.value=new Set;else if(!t.length)se!==void 0&&(et(),Pe(se,ne(se),{node:null,action:"filter"}));else{o.length||(se=ae.value);const{expandedKeys:u}=N.value;u!==void 0&&(et(),Pe(u,ne(u),{node:null,action:"filter"}))}});function ct(t){return wl(this,void 0,void 0,function*(){const{onLoad:o}=e;if(!o){yield Promise.resolve();return}const{value:u}=g;if(!u.has(t.key)){u.add(t.key);try{(yield o(t.rawNode))===!1&&n()}catch(b){console.error(b),n()}u.delete(t.key)}})}at(()=>{var t;const{value:o}=I;if(!o)return;const{getNode:u}=o;(t=ae.value)===null||t===void 0||t.forEach(b=>{const p=u(b);p&&!p.shallowLoaded&&ct(p)})});const De=K(!1),Re=K([]);qe(A,(t,o)=>{if(!e.animated||Ze){mt(Ue);return}if(Je)return;const u=ot(a.value.self.nodeHeight),b=new Set(o);let p=null,j=null;for(const $ of t)if(!b.has($)){if(p!==null)return;p=$}const ie=new Set(t);for(const $ of o)if(!ie.has($)){if(j!==null)return;j=$}if(p===null&&j===null)return;const{virtualScroll:ue}=e,Me=(ue?f.value.listElRef:R.value).offsetHeight,je=Math.ceil(Me/u)+1;let ve;if(p!==null&&(ve=o),j!==null&&(ve===void 0?ve=t:ve=ve.filter($=>$!==j)),De.value=!0,Re.value=I.value.getFlattenedNodes(ve),p!==null){const $=Re.value.findIndex(ge=>ge.key===p);if(~$){const ge=Re.value[$].children;if(ge){const be=zt(ge,t);Re.value.splice($+1,0,{__motion:!0,mode:"expand",height:ue?be.length*u:void 0,nodes:ue?be.slice(0,je):be})}}}if(j!==null){const $=Re.value.findIndex(ge=>ge.key===j);if(~$){const ge=Re.value[$].children;if(!ge)return;De.value=!0;const be=zt(ge,t);Re.value.splice($+1,0,{__motion:!0,mode:"collapse",height:ue?be.length*u:void 0,nodes:ue?be.slice(0,je):be})}}});const kt=F(()=>En(Z.value)),_t=F(()=>De.value?Re.value:Z.value);function Ue(){const{value:t}=y;t&&t.sync()}function wt(){De.value=!1,e.virtualScroll&&mt(Ue)}function ne(t){const{getNode:o}=v.value;return t.map(u=>{var b;return((b=o(u))===null||b===void 0?void 0:b.rawNode)||null})}function Pe(t,o,u){const{"onUpdate:expandedKeys":b,onUpdateExpandedKeys:p}=e;_e.value=t,b&&H(b,t,o,u),p&&H(p,t,o,u)}function tt(t,o,u){const{"onUpdate:checkedKeys":b,onUpdateCheckedKeys:p}=e;s.value=t,p&&H(p,t,o,u),b&&H(b,t,o,u)}function xt(t,o){const{"onUpdate:indeterminateKeys":u,onUpdateIndeterminateKeys:b}=e;u&&H(u,t,o),b&&H(b,t,o)}function nt(t,o,u){const{"onUpdate:selectedKeys":b,onUpdateSelectedKeys:p}=e;te.value=t,p&&H(p,t,o,u),b&&H(b,t,o,u)}function Rt(t){const{onDragenter:o}=e;o&&H(o,t)}function St(t){const{onDragleave:o}=e;o&&H(o,t)}function ut(t){const{onDragend:o}=e;o&&H(o,t)}function Nt(t){const{onDragstart:o}=e;o&&H(o,t)}function ft(t){const{onDragover:o}=e;o&&H(o,t)}function Ct(t){const{onDrop:o}=e;o&&H(o,t)}function Se(){ht(),re()}function ht(){z.value=null}function re(){de.value=0,X.value=null,Le.value=null,Fe.value=null,n()}function n(){oe&&(window.clearTimeout(oe),oe=null),xe=null}function h(t,o){if(e.disabled||Ie(t,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){V(t);return}const u=o?"check":"uncheck",{checkedKeys:b,indeterminateKeys:p}=v.value[u](t.key,J.value,{cascade:e.cascade,checkStrategy:G.value,allowNotLoaded:e.allowCheckingNotLoaded});tt(b,ne(b),{node:t.rawNode,action:u}),xt(p,ne(p))}function D(t){if(e.disabled)return;const{key:o}=t,{value:u}=ae,b=u.findIndex(p=>p===o);if(~b){const p=Array.from(u);p.splice(b,1),Pe(p,ne(p),{node:t.rawNode,action:"collapse"})}else{const p=I.value.getNode(o);if(!p||p.isLeaf)return;let j;if(e.accordion){const ie=new Set(t.siblings.map(({key:ue})=>ue));j=u.filter(ue=>!ie.has(ue)),j.push(o)}else j=u.concat(o);Pe(j,ne(j),{node:t.rawNode,action:"expand"})}}function C(t){e.disabled||De.value||D(t)}function V(t){if(!(e.disabled||!e.selectable)){if(we.value=t.key,e.internalUnifySelectCheck){const{value:{checkedKeys:o,indeterminateKeys:u}}=E;e.multiple?h(t,!(o.includes(t.key)||u.includes(t.key))):tt([t.key],ne([t.key]),{node:t.rawNode,action:"check"})}if(e.multiple){const o=Array.from(ke.value),u=o.findIndex(b=>b===t.key);~u?e.cancelable&&o.splice(u,1):~u||o.push(t.key),nt(o,ne(o),{node:t.rawNode,action:~u?"unselect":"select"})}else ke.value.includes(t.key)?e.cancelable&&nt([],[],{node:t.rawNode,action:"unselect"}):nt([t.key],ne([t.key]),{node:t.rawNode,action:"select"})}}function q(t){if(oe&&(window.clearTimeout(oe),oe=null),t.isLeaf)return;xe=t.key;const o=()=>{if(xe!==t.key)return;const{value:u}=Le;if(u&&u.key===t.key&&!ae.value.includes(t.key)){const b=ae.value.concat(t.key);Pe(b,ne(b),{node:t.rawNode,action:"expand"})}oe=null,xe=null};t.shallowLoaded?oe=window.setTimeout(()=>{o()},1e3):oe=window.setTimeout(()=>{ct(t).then(()=>{o()})},1e3)}function he({event:t,node:o}){!e.draggable||e.disabled||Ie(o,e.disabledField)||(Bt({event:t,node:o},!1),Rt({event:t,node:o.rawNode}))}function ce({event:t,node:o}){!e.draggable||e.disabled||Ie(o,e.disabledField)||St({event:t,node:o.rawNode})}function vt(t){t.target===t.currentTarget&&re()}function lt({event:t,node:o}){Se(),!(!e.draggable||e.disabled||Ie(o,e.disabledField))&&ut({event:t,node:o.rawNode})}function vn({event:t,node:o}){!e.draggable||e.disabled||Ie(o,e.disabledField)||(L=t.clientX,z.value=o,Nt({event:t,node:o.rawNode}))}function Bt({event:t,node:o},u=!0){var b;if(!e.draggable||e.disabled||Ie(o,e.disabledField))return;const{value:p}=z;if(!p)return;const{allowDrop:j,indent:ie}=e;u&&ft({event:t,node:o.rawNode});const ue=t.currentTarget,{height:Me,top:je}=ue.getBoundingClientRect(),ve=t.clientY-je;let $;j({node:o.rawNode,dropPosition:"inside",phase:"drag"})?ve<=8?$="before":ve>=Me-8?$="after":$="inside":ve<=Me/2?$="before":$="after";const{value:be}=kt;let U,Q;const ze=be(o.key);if(ze===null){re();return}let gt=!1;$==="inside"?(U=o,Q="inside"):$==="before"?o.isFirstChild?(U=o,Q="before"):(U=Z.value[ze-1],Q="after"):(U=o,Q="after"),!U.isLeaf&&ae.value.includes(U.key)&&(gt=!0,Q==="after"&&(U=Z.value[ze+1],U?Q="before":(U=o,Q="inside")));const $t=U;if(Le.value=$t,!gt&&p.isLastChild&&p.key===U.key&&(Q="after"),Q==="after"){let Mt=L-t.clientX,Tt=0;for(;Mt>=ie/2&&U.parent!==null&&U.isLastChild&&Tt<1;)Mt-=ie,Tt+=1,U=U.parent;de.value=Tt}else de.value=0;if((p.contains(U)||Q==="inside"&&((b=p.parent)===null||b===void 0?void 0:b.key)===U.key)&&!(p.key===$t.key&&p.key===U.key)){re();return}if(!j({node:U.rawNode,dropPosition:Q,phase:"drag"})){re();return}if(p.key===U.key)n();else if(xe!==U.key)if(Q==="inside"){if(e.expandOnDragenter){if(q(U),!U.shallowLoaded&&xe!==U.key){Se();return}}else if(!U.shallowLoaded){Se();return}}else n();else Q!=="inside"&&n();Fe.value=Q,X.value=U}function gn({event:t,node:o,dropPosition:u}){if(!e.draggable||e.disabled||Ie(o,e.disabledField))return;const{value:b}=z,{value:p}=X,{value:j}=Fe;if(!(!b||!p||!j)&&e.allowDrop({node:p.rawNode,dropPosition:j,phase:"drag"})&&b.key!==p.key){if(j==="before"){const ie=b.getNext({includeDisabled:!0});if(ie&&ie.key===p.key){re();return}}if(j==="after"){const ie=b.getPrev({includeDisabled:!0});if(ie&&ie.key===p.key){re();return}}Ct({event:t,node:p.rawNode,dragNode:b.rawNode,dropPosition:u}),Se()}}function mn(){Ue()}function yn(){Ue()}function bn(t){var o;if(e.virtualScroll||e.internalScrollable){const{value:u}=y;if(!((o=u==null?void 0:u.containerRef)===null||o===void 0)&&o.contains(t.relatedTarget))return;we.value=null}else{const{value:u}=R;if(u!=null&&u.contains(t.relatedTarget))return;we.value=null}}qe(we,t=>{var o,u;if(t!==null){if(e.virtualScroll)(o=f.value)===null||o===void 0||o.scrollTo({key:t});else if(e.internalScrollable){const{value:b}=y;if(b===null)return;const p=(u=b.contentRef)===null||u===void 0?void 0:u.querySelector(`[data-key="${dn(t)}"]`);if(!p)return;b.scrollTo({el:p})}}}),Ft(st,{loadingKeysRef:g,highlightKeySetRef:Ee,displayedCheckedKeysRef:J,displayedIndeterminateKeysRef:Te,mergedSelectedKeysRef:ke,mergedExpandedKeysRef:ae,mergedThemeRef:a,mergedCheckStrategyRef:G,nodePropsRef:B(e,"nodeProps"),disabledRef:B(e,"disabled"),checkableRef:B(e,"checkable"),selectableRef:B(e,"selectable"),expandOnClickRef:B(e,"expandOnClick"),onLoadRef:B(e,"onLoad"),draggableRef:B(e,"draggable"),blockLineRef:B(e,"blockLine"),indentRef:B(e,"indent"),cascadeRef:B(e,"cascade"),checkOnClickRef:B(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:Le,droppingNodeParentRef:Qe,draggingNodeRef:z,droppingPositionRef:Fe,droppingOffsetLevelRef:de,fNodesRef:Z,pendingNodeKeyRef:we,showLineRef:B(e,"showLine"),disabledFieldRef:B(e,"disabledField"),internalScrollableRef:B(e,"internalScrollable"),internalCheckboxFocusableRef:B(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:B(e,"renderLabel"),renderPrefixRef:B(e,"renderPrefix"),renderSuffixRef:B(e,"renderSuffix"),renderSwitcherIconRef:B(e,"renderSwitcherIcon"),labelFieldRef:B(e,"labelField"),multipleRef:B(e,"multiple"),overrideDefaultNodeClickBehaviorRef:B(e,"overrideDefaultNodeClickBehavior"),handleSwitcherClick:C,handleDragEnd:lt,handleDragEnter:he,handleDragLeave:ce,handleDragStart:vn,handleDrop:gn,handleDragOver:Bt,handleSelect:V,handleCheck:h});function pn(t,o){var u,b;typeof t=="number"?(u=f.value)===null||u===void 0||u.scrollTo(t,o||0):(b=f.value)===null||b===void 0||b.scrollTo(t)}const kn={handleKeydown:Ge,scrollTo:pn,getCheckedData:()=>{if(!e.checkable)return{keys:[],options:[]};const{checkedKeys:t}=E.value;return{keys:t,options:ne(t)}},getIndeterminateData:()=>{if(!e.checkable)return{keys:[],options:[]};const{indeterminateKeys:t}=E.value;return{keys:t,options:ne(t)}}},Ut=F(()=>{const{common:{cubicBezierEaseInOut:t},self:{fontSize:o,nodeBorderRadius:u,nodeColorHover:b,nodeColorPressed:p,nodeColorActive:j,arrowColor:ie,loadingColor:ue,nodeTextColor:Me,nodeTextColorDisabled:je,dropMarkColor:ve,nodeWrapperPadding:$,nodeHeight:ge,lineHeight:be,lineColor:U}}=a.value,Q=Et($,"top"),ze=Et($,"bottom"),gt=en(ot(ge)-ot(Q)-ot(ze));return{"--n-arrow-color":ie,"--n-loading-color":ue,"--n-bezier":t,"--n-font-size":o,"--n-node-border-radius":u,"--n-node-color-active":j,"--n-node-color-hover":b,"--n-node-color-pressed":p,"--n-node-text-color":Me,"--n-node-text-color-disabled":je,"--n-drop-mark-color":ve,"--n-node-wrapper-padding":$,"--n-line-offset-top":`-${Q}`,"--n-line-offset-bottom":`-${ze}`,"--n-node-content-height":gt,"--n-line-height":be,"--n-line-color":U}}),$e=i?ln("tree",void 0,Ut,e):void 0;return Object.assign(Object.assign({},kn),{mergedClsPrefix:l,mergedTheme:a,rtlEnabled:r,fNodes:_t,aip:De,selfElRef:R,virtualListInstRef:f,scrollbarInstRef:y,handleFocusout:bn,handleDragLeaveTree:vt,handleScroll:mn,getScrollContainer:x,getScrollContent:m,handleAfterEnter:wt,handleResize:yn,cssVars:i?void 0:Ut,themeClass:$e==null?void 0:$e.themeClass,onRender:$e==null?void 0:$e.onRender})},render(){var e;const{fNodes:l,internalRenderEmpty:i}=this;if(!l.length&&i)return i();const{mergedClsPrefix:c,blockNode:r,blockLine:a,draggable:R,disabled:y,internalFocusable:f,checkable:x,handleKeydown:m,rtlEnabled:T,handleFocusout:N,scrollbarProps:I}=this,k=f&&!y,v=k?"0":void 0,d=[`${c}-tree`,T&&`${c}-tree--rtl`,x&&`${c}-tree--checkable`,(a||r)&&`${c}-tree--block-node`,a&&`${c}-tree--block-line`],s=O=>"__motion"in O?_(kl,{height:O.height,nodes:O.nodes,clsPrefix:c,mode:O.mode,onAfterEnter:this.handleAfterEnter}):_(un,{key:O.key,tmNode:O,clsPrefix:c});if(this.virtualScroll){const{mergedTheme:O,internalScrollablePadding:E}=this,G=Et(E||"0");return _(Ht,Object.assign({},I,{ref:"scrollbarInstRef",onDragleave:R?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:d,theme:O.peers.Scrollbar,themeOverrides:O.peerOverrides.Scrollbar,tabindex:v,onKeydown:k?m:void 0,onFocusout:k?N:void 0}),{default:()=>{var J;return(J=this.onRender)===null||J===void 0||J.call(this),l.length?_(Dn,{ref:"virtualListInstRef",items:this.fNodes,itemSize:ot(O.self.nodeHeight),ignoreItemResize:this.aip,paddingTop:G.top,paddingBottom:G.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:G.left,paddingRight:G.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:Te})=>s(Te)}):Pt(this.$slots.empty,()=>[_(It,{class:`${c}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})])}})}const{internalScrollable:S}=this;return d.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),S?_(Ht,Object.assign({},I,{class:d,tabindex:v,onKeydown:k?m:void 0,onFocusout:k?N:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}}),{default:()=>_("div",{onDragleave:R?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(s))}):_("div",{class:d,tabindex:v,ref:"selfElRef",style:this.cssVars,onKeydown:k?m:void 0,onFocusout:k?N:void 0,onDragleave:R?this.handleDragLeaveTree:void 0},l.length?l.map(s):Pt(this.$slots.empty,()=>[_(It,{class:`${c}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}});function Qt(e,l){const{rawNode:i}=e;return Object.assign(Object.assign({},i),{label:i[l],value:e.key})}function Jt(e,l,i,c){const{rawNode:r}=e;return Object.assign(Object.assign({},r),{value:e.key,label:l.map(a=>a.rawNode[c]).join(i)})}const Sl=me([M("tree-select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),M("tree-select-menu",`
 position: relative;
 overflow: hidden;
 margin: 4px 0;
 transition: box-shadow .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-menu-border-radius);
 box-shadow: var(--n-menu-box-shadow);
 background-color: var(--n-menu-color);
 outline: none;
 `,[M("tree","max-height: var(--n-menu-height);"),Oe("empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),Oe("action",`
 padding: var(--n-action-padding);
 transition: 
 color .3s var(--n-bezier);
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),Pn()])]),Nl=Object.assign(Object.assign(Object.assign(Object.assign({},pt.props),{bordered:{type:Boolean,default:!0},cascade:Boolean,checkable:Boolean,clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},consistentMenuWidth:{type:Boolean,default:!0},defaultShow:Boolean,defaultValue:{type:[String,Number,Array],default:null},disabled:{type:Boolean,default:void 0},filterable:Boolean,checkStrategy:{type:String,default:"all"},loading:Boolean,maxTagCount:[String,Number],multiple:Boolean,showPath:Boolean,separator:{type:String,default:" / "},options:{type:Array,default:()=>[]},placeholder:String,placement:{type:String,default:"bottom-start"},show:{type:Boolean,default:void 0},size:String,value:[String,Number,Array],to:Ot.propTo,menuProps:Object,virtualScroll:{type:Boolean,default:!0},status:String,renderTag:Function,ellipsisTagPopoverProps:Object}),hn),{renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,watchProps:Array,getChildren:Function,onBlur:Function,onFocus:Function,onLoad:Function,onUpdateShow:[Function,Array],onUpdateValue:[Function,Array],"onUpdate:value":[Function,Array],"onUpdate:show":[Function,Array],leafOnly:Boolean}),Cl=fe({name:"TreeSelect",props:Nl,setup(e){const l=K(null),i=K(null),c=K(null),r=K(null),{mergedClsPrefixRef:a,namespaceRef:R,inlineThemeDisabled:y}=tn(e),{localeRef:f}=In("Select"),{mergedSizeRef:x,mergedDisabledRef:m,mergedStatusRef:T,nTriggerFormBlur:N,nTriggerFormChange:I,nTriggerFormFocus:k,nTriggerFormInput:v}=On(e),d=K(e.defaultValue),s=B(e,"value"),S=Be(s,d),O=K(e.defaultShow),E=B(e,"show"),G=Be(E,O),J=K(""),Te=F(()=>{const{filter:n}=e;if(n)return n;const{labelField:h}=e;return(D,C)=>D.length?C[h].toLowerCase().includes(D.toLowerCase()):!0}),te=F(()=>nn(e.options,fn(e.keyField,e.childrenField,e.disabledField,void 0))),{value:pe}=S,ke=K(e.checkable?null:Array.isArray(pe)&&pe.length?pe[pe.length-1]:null),_e=F(()=>e.multiple&&e.cascade&&e.checkable),Ke=K(e.defaultExpandAll?void 0:e.defaultExpandedKeys||e.expandedKeys),Ye=B(e,"expandedKeys"),ae=Be(Ye,Ke),Z=K(!1),we=F(()=>{const{placeholder:n}=e;return n!==void 0?n:f.value.placeholder}),Ge=F(()=>e.checkable?[]:oe.value),oe=F(()=>{const{value:n}=S;return e.multiple?Array.isArray(n)?n:[]:n===null||Array.isArray(n)?[]:[n]}),xe=F(()=>{const{multiple:n,showPath:h,separator:D,labelField:C}=e;if(n)return null;const{value:V}=S;if(!Array.isArray(V)&&V!==null){const{value:q}=te,he=q.getNode(V);if(he!==null)return h?Jt(he,q.getPath(V).treeNodePath,D,C):Qt(he,C)}return null}),Ae=F(()=>{const{multiple:n,showPath:h,separator:D}=e;if(!n)return null;const{value:C}=S;if(Array.isArray(C)){const V=[],{value:q}=te,{checkedKeys:he}=q.getCheckedKeys(C,{checkStrategy:e.checkStrategy,cascade:_e.value,allowNotLoaded:e.allowCheckingNotLoaded}),{labelField:ce}=e;return he.forEach(vt=>{const lt=q.getNode(vt);lt!==null&&V.push(h?Jt(lt,q.getPath(vt).treeNodePath,D,ce):Qt(lt,ce))}),V}return[]}),Xe=F(()=>{const{self:{menuPadding:n}}=Se.value;return n});function Ee(){var n;(n=i.value)===null||n===void 0||n.focus()}function g(){var n;(n=i.value)===null||n===void 0||n.focusInput()}function A(n){const{onUpdateShow:h,"onUpdate:show":D}=e;h&&H(h,n),D&&H(D,n),O.value=n}function L(n,h,D){const{onUpdateValue:C,"onUpdate:value":V}=e;C&&H(C,n,h,D),V&&H(V,n,h,D),d.value=n,v(),I()}function z(n,h){const{onUpdateIndeterminateKeys:D,"onUpdate:indeterminateKeys":C}=e;D&&H(D,n,h),C&&H(C,n,h)}function X(n,h,D){const{onUpdateExpandedKeys:C,"onUpdate:expandedKeys":V}=e;C&&H(C,n,h,D),V&&H(V,n,h,D),Ke.value=n}function Le(n){const{onFocus:h}=e;h&&h(n),k()}function Fe(n){de();const{onBlur:h}=e;h&&h(n),N()}function de(){A(!1)}function Qe(){m.value||(J.value="",A(!0),e.filterable&&g())}function Je(){J.value=""}function Ze(n){var h;G.value&&(!((h=i.value)===null||h===void 0)&&h.$el.contains(qn(n))||de())}function et(){m.value||(G.value?e.filterable||de():Qe())}function se(n){const{value:{getNode:h}}=te;return n.map(D=>{var C;return((C=h(D))===null||C===void 0?void 0:C.rawNode)||null})}function ct(n,h,D){const C=se(n),V=D.action==="check"?"select":"unselect",q=D.node;e.multiple?(L(n,C,{node:q,action:V}),e.filterable&&(g(),e.clearFilterAfterSelect&&(J.value=""))):(n.length?L(n[0],C[0]||null,{node:q,action:V}):L(null,null,{node:q,action:V}),de(),Ee())}function De(n){e.checkable&&z(n,se(n))}function Re(n){var h;!((h=r.value)===null||h===void 0)&&h.contains(n.relatedTarget)||(Z.value=!0,Le(n))}function kt(n){var h;!((h=r.value)===null||h===void 0)&&h.contains(n.relatedTarget)||(Z.value=!1,Fe(n))}function _t(n){var h,D,C;!((h=r.value)===null||h===void 0)&&h.contains(n.relatedTarget)||!((C=(D=i.value)===null||D===void 0?void 0:D.$el)===null||C===void 0)&&C.contains(n.relatedTarget)||(Z.value=!0,Le(n))}function Ue(n){var h,D,C;!((h=r.value)===null||h===void 0)&&h.contains(n.relatedTarget)||!((C=(D=i.value)===null||D===void 0?void 0:D.$el)===null||C===void 0)&&C.contains(n.relatedTarget)||(Z.value=!1,Fe(n))}function wt(n){n.stopPropagation();const{multiple:h}=e;!h&&e.filterable&&de(),h?L([],[],{node:null,action:"clear"}):L(null,null,{node:null,action:"clear"})}function ne(n){const{value:h}=S;if(Array.isArray(h)){const{value:D}=te,{checkedKeys:C}=D.getCheckedKeys(h,{cascade:_e.value,allowNotLoaded:e.allowCheckingNotLoaded}),V=C.findIndex(q=>q===n.value);if(~V){const q=C[V],he=se([q])[0];if(e.checkable){const{checkedKeys:ce}=D.uncheck(n.value,C,{checkStrategy:e.checkStrategy,cascade:_e.value,allowNotLoaded:e.allowCheckingNotLoaded});L(ce,se(ce),{node:he,action:"delete"})}else{const ce=Array.from(C);ce.splice(V,1),L(ce,se(ce),{node:he,action:"delete"})}}}}function Pe(n){const{value:h}=n.target;J.value=h}function tt(n){const{value:h}=c;return h?h.handleKeydown(n):{enterBehavior:null}}function xt(n){if(n.key==="Enter"){if(G.value){const{enterBehavior:h}=tt(n);if(!e.multiple)switch(h){case"default":case"toggleSelect":de(),Ee();break}}else Qe();n.preventDefault()}else n.key==="Escape"?G.value&&(Wn(n),de(),Ee()):G.value?tt(n):n.key==="ArrowDown"&&Qe()}function nt(){de(),Ee()}function Rt(n){it(n,"action")||n.preventDefault()}const St=F(()=>{const{renderTag:n}=e;if(n)return function({option:D,handleClose:C}){const{value:V}=D;if(V!==void 0){const q=te.value.getNode(V);if(q)return n({option:q.rawNode,handleClose:C})}return V}});Ft(Vt,{pendingNodeKeyRef:ke,dataTreeMate:te});function ut(){var n;G.value&&((n=l.value)===null||n===void 0||n.syncPosition())}An(r,ut);const Nt=sn(e),ft=F(()=>{if(e.checkable){const n=S.value;return e.multiple&&Array.isArray(n)?te.value.getCheckedKeys(n,{cascade:e.cascade,checkStrategy:Nt.value,allowNotLoaded:e.allowCheckingNotLoaded}):{checkedKeys:Array.isArray(n)||n===null?[]:[n],indeterminateKeys:[]}}return{checkedKeys:[],indeterminateKeys:[]}}),Ct={getCheckedData:()=>{const{checkedKeys:n}=ft.value;return{keys:n,options:se(n)}},getIndeterminateData:()=>{const{indeterminateKeys:n}=ft.value;return{keys:n,options:se(n)}},focus:()=>{var n;return(n=i.value)===null||n===void 0?void 0:n.focus()},focusInput:()=>{var n;return(n=i.value)===null||n===void 0?void 0:n.focusInput()},blur:()=>{var n;return(n=i.value)===null||n===void 0?void 0:n.blur()},blurInput:()=>{var n;return(n=i.value)===null||n===void 0?void 0:n.blurInput()}},Se=pt("TreeSelect","-tree-select",Sl,Ln,e,a),ht=F(()=>{const{common:{cubicBezierEaseInOut:n},self:{menuBoxShadow:h,menuBorderRadius:D,menuColor:C,menuHeight:V,actionPadding:q,actionDividerColor:he,actionTextColor:ce}}=Se.value;return{"--n-menu-box-shadow":h,"--n-menu-border-radius":D,"--n-menu-color":C,"--n-menu-height":V,"--n-bezier":n,"--n-action-padding":q,"--n-action-text-color":ce,"--n-action-divider-color":he}}),re=y?ln("tree-select",void 0,ht,e):void 0;return Object.assign(Object.assign({},Ct),{menuElRef:r,mergedStatus:T,triggerInstRef:i,followerInstRef:l,treeInstRef:c,mergedClsPrefix:a,mergedValue:S,mergedShow:G,namespace:R,adjustedTo:Ot(e),isMounted:Fn(),focused:Z,menuPadding:Xe,mergedPlaceholder:we,mergedExpandedKeys:ae,treeSelectedKeys:Ge,treeCheckedKeys:oe,mergedSize:x,mergedDisabled:m,selectedOption:xe,selectedOptions:Ae,pattern:J,pendingNodeKey:ke,mergedCascade:_e,mergedFilter:Te,selectionRenderTag:St,handleTriggerOrMenuResize:ut,doUpdateExpandedKeys:X,handleMenuLeave:Je,handleTriggerClick:et,handleMenuClickoutside:Ze,handleUpdateCheckedKeys:ct,handleUpdateIndeterminateKeys:De,handleTriggerFocus:Re,handleTriggerBlur:kt,handleMenuFocusin:_t,handleMenuFocusout:Ue,handleClear:wt,handleDeleteOption:ne,handlePatternInput:Pe,handleKeydown:xt,handleTabOut:nt,handleMenuMousedown:Rt,mergedTheme:Se,cssVars:y?void 0:ht,themeClass:re==null?void 0:re.themeClass,onRender:re==null?void 0:re.onRender})},render(){const{mergedTheme:e,mergedClsPrefix:l,$slots:i}=this;return _("div",{class:`${l}-tree-select`},_(Vn,null,{default:()=>[_(Bn,null,{default:()=>_(Un,{ref:"triggerInstRef",onResize:this.handleTriggerOrMenuResize,status:this.mergedStatus,focused:this.focused,clsPrefix:l,theme:e.peers.InternalSelection,themeOverrides:e.peerOverrides.InternalSelection,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,renderTag:this.selectionRenderTag,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,size:this.mergedSize,bordered:this.bordered,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,active:this.mergedShow,loading:this.loading,multiple:this.multiple,maxTagCount:this.maxTagCount,showArrow:!0,filterable:this.filterable,clearable:this.clearable,pattern:this.pattern,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onBlur:this.handleTriggerBlur,onDeleteOption:this.handleDeleteOption,onKeydown:this.handleKeydown},{arrow:()=>{var c,r;return[(r=(c=this.$slots).arrow)===null||r===void 0?void 0:r.call(c)]}})}),_($n,{ref:"followerInstRef",show:this.mergedShow,placement:this.placement,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Ot.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target"},{default:()=>_(Mn,{name:"fade-in-scale-up-transition",appear:this.isMounted,onLeave:this.handleMenuLeave},{default:()=>{var c;if(!this.mergedShow)return null;const{mergedClsPrefix:r,checkable:a,multiple:R,menuProps:y,options:f}=this;return(c=this.onRender)===null||c===void 0||c.call(this),an(_("div",Object.assign({},y,{class:[`${r}-tree-select-menu`,y==null?void 0:y.class,this.themeClass],ref:"menuElRef",style:[(y==null?void 0:y.style)||"",this.cssVars],tabindex:0,onMousedown:this.handleMenuMousedown,onKeydown:this.handleKeydown,onFocusin:this.handleMenuFocusin,onFocusout:this.handleMenuFocusout}),_(Rl,{ref:"treeInstRef",blockLine:!0,allowCheckingNotLoaded:this.allowCheckingNotLoaded,showIrrelevantNodes:!1,animated:!1,pattern:this.pattern,getChildren:this.getChildren,filter:this.mergedFilter,data:f,cancelable:R,labelField:this.labelField,keyField:this.keyField,disabledField:this.disabledField,childrenField:this.childrenField,theme:e.peers.Tree,themeOverrides:e.peerOverrides.Tree,defaultExpandAll:this.defaultExpandAll,defaultExpandedKeys:this.defaultExpandedKeys,expandedKeys:this.mergedExpandedKeys,checkedKeys:this.treeCheckedKeys,selectedKeys:this.treeSelectedKeys,checkable:a,checkStrategy:this.checkStrategy,cascade:this.mergedCascade,leafOnly:this.leafOnly,multiple:this.multiple,renderLabel:this.renderLabel,renderPrefix:this.renderPrefix,renderSuffix:this.renderSuffix,renderSwitcherIcon:this.renderSwitcherIcon,nodeProps:this.nodeProps,watchProps:this.watchProps,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,overrideDefaultNodeClickBehavior:this.overrideDefaultNodeClickBehavior,internalTreeSelect:!0,internalUnifySelectCheck:!0,internalScrollable:!0,internalScrollablePadding:this.menuPadding,internalFocusable:!1,internalCheckboxFocusable:!1,internalRenderEmpty:()=>_("div",{class:`${r}-tree-select-menu__empty`},Pt(i.empty,()=>[_(It,{theme:e.peers.Empty,themeOverrides:e.peerOverrides.Empty})])),onLoad:this.onLoad,onUpdateCheckedKeys:this.handleUpdateCheckedKeys,onUpdateIndeterminateKeys:this.handleUpdateIndeterminateKeys,onUpdateExpandedKeys:this.doUpdateExpandedKeys}),zn(i.action,x=>x?_("div",{class:`${r}-tree-select-menu__action`,"data-action":!0},x):null),_(Hn,{onFocus:this.handleTabOut})),[[jn,this.handleMenuClickoutside,void 0,{capture:!0}]])}})})]}))}}),Tl=fe({__name:"Search",props:{modelValue:{type:Object,required:!0}},emits:["update:modelaValue","search"],setup(e,{emit:l}){const i=e,c=l,r=F({get(){return i.modelValue},set(y){c("update:modelaValue",y)}}),a=[{label:"启用",value:1},{label:"禁用",value:0}],R=()=>{c("search")};return(y,f)=>{const x=Ve,m=nl;return ye(),At(on,null,[Y(x,{modelValue:r.value.menuName,"onUpdate:modelValue":f[0]||(f[0]=T=>r.value.menuName=T),onKeyup:qt(R,["enter"]),placeholder:"请输入菜单名"},null,8,["modelValue"]),Y(m,{modelValue:r.value.menuState,"onUpdate:modelValue":f[1]||(f[1]=T=>r.value.menuState=T),options:a,onKeyup:qt(R,["enter"]),placeholder:"请选择菜单状态"},null,8,["modelValue"])],64)}}}),Kl=e=>new Promise(l=>{setTimeout(()=>{l(dt(Yn))},300)}),El=e=>new Promise(l=>{setTimeout(()=>{l(dt(Gn))},300)}),Dl=e=>new Promise(l=>{setTimeout(()=>{l(dt("新增成功"))},300)}),Pl=e=>new Promise(l=>{setTimeout(()=>{l(dt(e))},300)}),Il=e=>new Promise(l=>{setTimeout(()=>{l(dt("修改成功"))},300)}),Ol=fe({__name:"Table",props:{params:{type:Object,required:!0}},emits:["edit","add"],setup(e,{expose:l,emit:i}){const c=e,r=i,a=rl("menuId"),R=al([{title:"菜单名称",key:"menuName",width:"200",fixed:"left"},{title:"图标",key:"icon",width:"120"},{title:"排序",key:"sort",width:"80"},{title:"权限标识",key:"perms",minWidth:"200"},{title:"组件路径",key:"component",width:"200"},{title:"创建时间",key:"createTime",width:"200"},{title:"状态",key:"status",width:"120",render(v){return _(il,{defaultValue:v.status,checkedValue:1,uncheckedValue:0,onUpdateValue:d=>{Il({id:v.id,status:d}).then(s=>{window.$msg.success(s.data)})}})}},{title:"操作",key:"action",fixed:"right",width:160,render(v){return ol([{label:"修改",icon:"edit",onClick:y.bind(null,v)},{label:"新增",icon:"add",onClick:f.bind(null,v)},{label:"删除",icon:"delete",onClick:x.bind(null,v)}])}}],{align:"center"}),y=v=>{r("edit",v)},f=v=>{r("add",v)},x=v=>{window.$dialog.warning({title:"警告",content:`确定删除 '${v.menuName}' ?`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Pl(v.menuId).then(()=>{window.$msg.success("删除成功"),k()})}})},m=v=>{let d=[];return v.forEach(s=>{s.children?d.push({label:s.menuName,key:s.menuId,children:m(s.children)}):d.push({label:s.menuName,key:s.menuId})}),d};let T=K(!1),N=yt([]),I=yt([]);const k=()=>(T.value=!0,new Promise(v=>{Kl(c.params).then(d=>{N=Xn(d.data,0),I=[{key:0,label:"主类目",children:m(N)}],T.value=!1,v(I)})}));return l({getTable:k}),(v,d)=>{const s=ll;return ye(),Ce(s,{loading:w(T),columns:w(R),data:w(N),"row-key":w(a)},null,8,["loading","columns","data","row-key"])}}}),Al={class:"icons-box"},Ll=["onClick"],Fl=fe({__name:"IconSelect",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{expose:l,emit:i}){const c=e,r=i;bt(()=>{f.value=c.modelValue});let a=F(()=>c.modelValue);qe(a,k=>{f.value=k});const y=Object.keys(Object.assign({"/src/assets/svg/add.svg":()=>P(()=>import("./add-DuGe01c7.js"),[]),"/src/assets/svg/arrow.svg":()=>P(()=>import("./arrow-BYxnhZc2.js"),[]),"/src/assets/svg/arrowL.svg":()=>P(()=>import("./arrowL-LIFJSSjo.js"),[]),"/src/assets/svg/arrowR.svg":()=>P(()=>import("./arrowR-DEMwTrKG.js"),[]),"/src/assets/svg/assignrole.svg":()=>P(()=>import("./assignrole-D7aPvHA0.js"),[]),"/src/assets/svg/avatar.svg":()=>P(()=>import("./avatar-DcT_XKy9.js"),[]),"/src/assets/svg/code.svg":()=>P(()=>import("./code-DzWiFVKT.js"),[]),"/src/assets/svg/dark.svg":()=>P(()=>import("./dark-BS7s0uDo.js"),[]),"/src/assets/svg/delete.svg":()=>P(()=>import("./delete-Xm-KObZv.js"),[]),"/src/assets/svg/down.svg":()=>P(()=>import("./down-mB9rVu7q.js"),[]),"/src/assets/svg/drag.svg":()=>P(()=>import("./drag-BXWPdu9S.js"),[]),"/src/assets/svg/edit.svg":()=>P(()=>import("./edit-jG40TE6q.js"),[]),"/src/assets/svg/export.svg":()=>P(()=>import("./export-kVeJQaeH.js"),[]),"/src/assets/svg/eye.svg":()=>P(()=>import("./eye-B224GJLC.js"),[]),"/src/assets/svg/full.svg":()=>P(()=>import("./full-byTbHp3_.js"),[]),"/src/assets/svg/home.svg":()=>P(()=>import("./home-Bu-a9Ct2.js"),[]),"/src/assets/svg/import.svg":()=>P(()=>import("./import-C8rB4qgo.js"),[]),"/src/assets/svg/light.svg":()=>P(()=>import("./light-DPI2mVm0.js"),[]),"/src/assets/svg/load.svg":()=>P(()=>import("./load-CeW3E6kE.js"),[]),"/src/assets/svg/menu.svg":()=>P(()=>import("./menu-DuOJnrBH.js"),[]),"/src/assets/svg/message.svg":()=>P(()=>import("./message-XsRfkBEB.js"),[]),"/src/assets/svg/more.svg":()=>P(()=>import("./more-B5tqs0Je.js"),[]),"/src/assets/svg/password.svg":()=>P(()=>import("./password-Bn8ecrrR.js"),[]),"/src/assets/svg/reset.svg":()=>P(()=>import("./reset-D7iIlVR2.js"),[]),"/src/assets/svg/resetpassword.svg":()=>P(()=>import("./resetpassword-Derwy095.js"),[]),"/src/assets/svg/search.svg":()=>P(()=>import("./search-ChPlb3PW.js"),[]),"/src/assets/svg/setting.svg":()=>P(()=>import("./setting-DZsARLC2.js"),[]),"/src/assets/svg/system-dict.svg":()=>P(()=>import("./system-dict-DzAulbMA.js"),[]),"/src/assets/svg/system-menu.svg":()=>P(()=>import("./system-menu-B0h9AsTR.js"),[]),"/src/assets/svg/system.svg":()=>P(()=>import("./system-2xjZhZTM.js"),[]),"/src/assets/svg/user-role.svg":()=>P(()=>import("./user-role-CRAPZk5_.js"),[]),"/src/assets/svg/user-user.svg":()=>P(()=>import("./user-user-BJnKkUHt.js"),[]),"/src/assets/svg/user.svg":()=>P(()=>import("./user-CywpJ_3y.js"),[]),"/src/assets/svg/username.svg":()=>P(()=>import("./username-HKAH-FG2.js"),[]),"/src/assets/svg/vite.svg":()=>P(()=>import("./vite-BXXgAN7U.js"),[])})).map(k=>k.replace(/\/src\/assets\/svg\//,"").replace(/\.svg/,""));let f=K(""),x=k=>{f.value=k,T.value=!1},m=k=>{!k&&(T.value=!1)},T=K(!1),N=()=>{T.value=!0};return qe(f,k=>{r("update:modelValue",k)}),l({resetPath:()=>{f.value=""}}),(k,v)=>{const d=Ve;return ye(),Ce(w(el),{show:w(T),trigger:"click",placement:"bottom-start","onUpdate:show":w(m)},{trigger:ee(()=>[Y(d,{modelValue:w(f),"onUpdate:modelValue":v[0]||(v[0]=s=>Lt(f)?f.value=s:f=s),onClick:w(N)},{prefix:ee(()=>[an(Y(Wt,{name:w(f)},null,8,["name"]),[[Qn,w(f)]])]),_:1},8,["modelValue","onClick"])]),default:ee(()=>[Yt("div",Al,[(ye(!0),At(on,null,Jn(w(y),(s,S)=>(ye(),At("div",{key:S,onClick:O=>w(x)(s)},[Y(Wt,{name:s},null,8,["name"]),Yt("span",null,Zn(s),1)],8,Ll))),128))])]),_:1},8,["show","onUpdate:show"])}}}),Vl=rn(Fl,[["__scopeId","data-v-7bf60f5e"]]),Bl=fe({__name:"Form",props:{formId:[Number,String],parentId:Number,options:{type:Array,required:!0}},setup(e,{expose:l}){const i=e,c=[{label:"启动",value:1},{label:"停用",value:0}];let r={parentId:0,menuType:"M",icon:"",menuName:"",sort:1,path:"",component:"",perms:"",status:1},a=K(Gt(r));const R={menuName:{required:!0,trigger:["input","blur"],message:"请输入菜单名称"},sort:{required:!0,message:"请输入排序"},path:{required:!0,trigger:["input","blur"],message:"请输入路由地址"}},y=()=>{El(i.formId).then(v=>{a.value=v.data})};let f=K(null);const x=()=>{a.value=Gt(r)},m=()=>new Promise((v,d)=>{f.value.validate(s=>{s?d(!1):Dl(a.value).then(()=>{window.$msg.success(`${a.value.userId?"修改":"新增"}目录成功！`),v(!0)}).catch(()=>{d(!1)})})}),T=v=>{a.value.parentId=v},N=[{label:"目录",value:"M"},{label:"菜单",value:"C"},{label:"按钮",value:"F"}],I={M:["icon","path","status"],C:["icon","path","component","status","perms"],F:["perms"]};let k=F(()=>I[a.value.menuType]);return l({validateForm:m}),bt(()=>{x(),i.formId&&y(),i.parentId&&(a.value.parentId=i.parentId),console.log(1,i.parentId)}),(v,d)=>{const s=Cl,S=dl,O=cl;return ye(),Ce(O,{class:"u__grid-c2",ref_key:"formRef",ref:f,model:w(a),rules:R,"label-placement":"left","require-mark-placement":"left","label-width":"80"},{default:ee(()=>[Y(w(Ne),{path:"parentId",label:"上级菜单",style:{"grid-area":"1 / 1 / 2 / 3"}},{default:ee(()=>[Y(s,{value:w(a).parentId,options:e.options,"onUpdate:value":T,size:"small"},null,8,["value","options"])]),_:1}),Y(w(Ne),{path:"menuType",label:"菜单类型"},{default:ee(()=>[Y(S,{modelValue:w(a).menuType,"onUpdate:modelValue":d[0]||(d[0]=E=>w(a).menuType=E),options:N},null,8,["modelValue"])]),_:1}),w(k).includes("icon")?(ye(),Ce(w(Ne),{key:0,path:"icon",label:"菜单图标"},{default:ee(()=>[Y(Vl,{ref:"iconRef",modelValue:w(a).icon,"onUpdate:modelValue":d[1]||(d[1]=E=>w(a).icon=E)},null,8,["modelValue"])]),_:1})):rt("",!0),Y(w(Ne),{path:"menuName",label:"菜单名称"},{default:ee(()=>[Y(Ve,{modelValue:w(a).menuName,"onUpdate:modelValue":d[2]||(d[2]=E=>w(a).menuName=E)},null,8,["modelValue"])]),_:1}),Y(w(Ne),{path:"sort",label:"显示排序"},{default:ee(()=>[Y(Ve,{isNumber:"",modelValue:w(a).sort,"onUpdate:modelValue":d[3]||(d[3]=E=>w(a).sort=E),min:1},null,8,["modelValue"])]),_:1}),w(k).includes("path")?(ye(),Ce(w(Ne),{key:1,path:"path",label:"路由地址"},{default:ee(()=>[Y(Ve,{modelValue:w(a).path,"onUpdate:modelValue":d[4]||(d[4]=E=>w(a).path=E)},null,8,["modelValue"])]),_:1})):rt("",!0),w(k).includes("component")?(ye(),Ce(w(Ne),{key:2,path:"component",label:"组件路径"},{default:ee(()=>[Y(Ve,{modelValue:w(a).component,"onUpdate:modelValue":d[5]||(d[5]=E=>w(a).component=E)},null,8,["modelValue"])]),_:1})):rt("",!0),w(k).includes("perms")?(ye(),Ce(w(Ne),{key:3,path:"perms",label:"权限字符"},{default:ee(()=>[Y(Ve,{modelValue:w(a).perms,"onUpdate:modelValue":d[6]||(d[6]=E=>w(a).perms=E)},null,8,["modelValue"])]),_:1})):rt("",!0),w(k).includes("status")?(ye(),Ce(w(Ne),{key:4,path:"status",label:"菜单状态"},{default:ee(()=>[Y(S,{modelValue:w(a).status,"onUpdate:modelValue":d[7]||(d[7]=E=>w(a).status=E),options:c},null,8,["modelValue"])]),_:1})):rt("",!0)]),_:1},8,["model"])}}}),Ul=rn(Bl,[["__scopeId","data-v-848437fd"]]),Zl=fe({__name:"index",setup(e){let l=K(null);const i=K(null),c=()=>{i.value.getTable().then(s=>{l.value=s})},r=yt({del:!1,export:!1,import:!1});let a=yt({menuName:"",menuState:null}),R=F(()=>Object.assign({},a));const y=()=>{a.menuName="",a.menuState=null,c()};let f=K(""),x=K(!1),m=K(!1),T=K(null),N=K("");const I=(s=null)=>{const S=!!s;N.value=S?s.menuId:"",f.value=`${S?"编辑":"新增"}菜单`,m.value=!0,v.value=0},k=()=>{x.value=!0,T.value.validateForm().then(()=>{m.value=!1,c()}).catch(()=>{}).finally(()=>{x.value=!1})};let v=K(0);const d=s=>{v.value=s.menuId,f.value="新增菜单",m.value=!0};return Ft("btnload",x),bt(()=>{c()}),(s,S)=>{const O=tl;return ye(),Ce(O,{title:w(f),controlShow:r,uploadTitle:"导入用户列表",show:w(m),"onUpdate:show":S[1]||(S[1]=E=>Lt(m)?m.value=E:m=E),onAdd:I,onSearch:c,onReset:y,onSubmit:k},{search:ee(()=>[Y(Tl,{ref:"searchRef",modelValue:w(a),"onUpdate:modelValue":S[0]||(S[0]=E=>Lt(a)?a.value=E:a=E),onSearch:c},null,8,["modelValue"])]),table:ee(()=>[Y(Ol,{ref_key:"table",ref:i,params:w(R),onEdit:I,onAdd:d},null,8,["params"])]),form:ee(()=>[Y(Ul,{ref_key:"form",ref:T,formId:w(N),parentId:w(v),options:w(l)},null,8,["formId","parentId","options"])]),_:1},8,["title","controlShow","show"])}}});export{Zl as default};
