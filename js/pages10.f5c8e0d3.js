(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages10"],{"11c1":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cui-page"},[e.$slots["header"]?a("div",{staticClass:"cui-page-header"},[e._t("header")],2):e._e(),e._t("default",null,null,{data:e.data}),e.pages&&!e.scroll?a("div",{staticClass:"cui-page-footer"},[a("cui-pagination",{attrs:{total:e.total,limit:e.limit,current:e.page},on:{"size-change":e.limitChangeHandle,"current-change":e.pageChangeHandle}})],1):e._e()],2)},r=[],i=(a("96cf"),a("3b8d")),o=a("cebc"),s=a("20ca"),l={name:"listWithSearch",props:{scroll:Boolean,pages:Boolean,searchParams:Object,remoteMethod:{type:Function,required:!0},formatResponse:Function},data:function(){return{data:[],page:1,total:0,limit:20,loading:!1,isBottom:!1}},methods:{changeItem:function(e,t){this.$set(this.data,e,Object(o["a"])({},this.data[e],t))},deleteItem:function(e){this.data.splice(e,1)},searchHandle:function(){this.data=[],this.page=1,this.updateDataHandle()},updateDataHandle:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,this.formatSearchParams();case 5:return t=e.sent,e.prev=6,e.next=9,this.remoteMethod(t).then(this.formatSearchResult);case 9:a=e.sent,this.$emit("updateSuccess",a),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](6),this.$emit("updateFailed",e.t0);case 16:this.loading=!1;case 17:case"end":return e.stop()}},e,this,[[6,13]])}));function t(){return e.apply(this,arguments)}return t}(),formatSearchParams:function(){var e={};return this.pages&&Object.assign(e,{page:this.page,limit:this.limit}),this.searchParams&&Object.assign(e,this.searchParams),e},formatSearchResult:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var a,n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.formatResponse){e.next=4;break}return e.next=3,this.formatResponse(t);case 3:t=e.sent;case 4:return a=t,n=a.data,this.pages?(r=n.total,i=n.data,this.scroll?(this.isBottom=i.length<this.limit,this.data=this.data.concat(i)):this.data=i,this.total=r):this.data=n,e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),limitChangeHandle:function(e){this.limit=e,this.updateDataHandle()},pageChangeHandle:function(e){this.page=e,this.updateDataHandle()},scrollHandle:Object(s["a"])(function(){if(!this.isBottom){var e=document.documentElement.offsetHeight-document.documentElement.scrollTop-window.innerHeight<=200;e&&(this.page+=1,this.updateDataHandle())}},1e3),resetScroll:function(){var e=this;window.removeEventListener("scroll",this.scrollHandle,!1),this.$nextTick(function(){window.addEventListener("scroll",e.scrollHandle,!1)})}},mounted:function(){this.scroll&&window.addEventListener("scroll",this.scrollHandle,!1),this.updateDataHandle()},destroyed:function(){this.scroll&&window.removeEventListener("scroll",this.scrollHandle,!1)}},c=l,u=a("2877"),d=Object(u["a"])(c,n,r,!1,null,null,null);t["a"]=d.exports},"456d":function(e,t,a){var n=a("4bf8"),r=a("0d58");a("5eda")("keys",function(){return function(e){return r(n(e))}})},"469f":function(e,t,a){a("6c1c"),a("1654"),e.exports=a("7d7b")},"5d73":function(e,t,a){e.exports=a("469f")},"5eda":function(e,t,a){var n=a("5ca1"),r=a("8378"),i=a("79e5");e.exports=function(e,t){var a=(r.Object||{})[e]||Object[e],o={};o[e]=t(a),n(n.S+n.F*i(function(){a(1)}),"Object",o)}},"768b":function(e,t,a){"use strict";var n=a("a745"),r=a.n(n);function i(e){if(r()(e))return e}var o=a("5d73"),s=a.n(o);function l(e,t){var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=s()(e);!(n=(o=l.next()).done);n=!0)if(a.push(o.value),t&&a.length===t)break}catch(c){r=!0,i=c}finally{try{n||null==l["return"]||l["return"]()}finally{if(r)throw i}}return a}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e,t){return i(e)||l(e,t)||c()}a.d(t,"a",function(){return u})},"7d7b":function(e,t,a){var n=a("e4ae"),r=a("7cd6");e.exports=a("584a").getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},"982c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("textarea",e._b({staticClass:"c-ueditor",attrs:{id:e.editorId,type:"text/plain"}},"textarea",e.$attrs,!1))},r=[],i=(a("96cf"),a("3b8d")),o=a("f672"),s=a.n(o),l=a("ed08");a("a481");function c(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function u(e){return c("/admin",e)}var d={serverUrl:"/admin/editor",toolbars:[["bold","italic","underline","strikethrough","forecolor","backcolor","justifyleft","justifycenter","justifyright","|","insertunorderedlist","insertorderedlist","blockquote","emotion","simpleupload","insertvideo","link","removeformat","|","rowspacingtop","rowspacingbottom","lineheight","paragraph","fontsize","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols"]],wordCount:!1,pasteplain:!0,enableAutoSave:!1,autoFloatEnabled:!0,initialFrameWidth:386,initialFrameHeight:500,elementPathEnabled:!1,autoClearinitialContent:!1,iframeCssUrl:u("plugins/ueditor/themes/iframe.css")},p=a("3786");s.a.Editor.prototype._bkGetActionUrl=s.a.Editor.prototype.getActionUrl,s.a.Editor.prototype.getActionUrl=function(e){return"uploadimage"==e||"uploadscrawl"==e||"uploadimage"==e?"//up-z2.qiniup.com/":"uploadvideo"==e?"//up-z2.qiniup.com/":this._bkGetActionUrl.call(this,e)};var m={name:"uEditor",props:{config:Object,defaultValue:String},data:function(){return{editor:"",editorId:"ueditor--".concat(Object(l["c"])())}},computed:{editorconfig:function(){return Object.assign({},d,this.config)}},watch:{defaultValue:function(e){this.setContent(e)}},methods:{getContent:function(){return this.editor.getContent()},setContent:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.editor&&this.$nextTick(function(){t.editor.setContent(e,a)})},initEditor:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a,n,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["b"])("custom");case 2:t=e.sent,a=t.data,n=s.a.getEditor(this.editorId,this.editorconfig),n.ready(function(){r.$emit("ready",n),r.defaultValue&&r.setContent(r.defaultValue),n.execCommand("serverparam",{token:a}),n.addListener("blur",function(){r.$emit("blur")}),n.addListener("contentChange",function(){var e=n.getContent();r.$emit("change",e)})}),this.editor=n;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.initEditor()},beforeDestroy:function(){this.editor.destroy()}},f=m,h=a("2877"),b=Object(h["a"])(f,n,r,!1,null,null,null);t["a"]=b.exports},"9dac":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{center:"",width:"500px",title:"文件上传",visible:e.visible,"append-to-body":"","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"custom-class":"cui-upload"},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.afterDialogCloseHandle()}}},[a("el-upload",e._g(e._b({ref:"upload",staticClass:"cui-upload__wrapper",attrs:{limit:e.limit,accept:e.accept,multiple:e.multiple,action:e.uploadUrl,"auto-upload":!1,"list-type":e.listType,"on-exceed":e.exceedHandle,"on-preview":e.previewHandle,"on-success":e.successHandle,"before-upload":e.beforeUpload,"before-remove":e.beforeRemoveHandle,"http-request":e.uploadFileWithQiniu}},"el-upload",e.$attrs,!1),e.$listeners),[a("el-button",{ref:"browse",attrs:{slot:"trigger",size:"small",type:"warning",icon:"el-icon-upload"},slot:"trigger"},[e._v("选取文件")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._t("tip",[e._v(e._s(e.tip||"只能上传jpg/png文件，且不超过500kb"))])],2)],1),a("el-dialog",{attrs:{title:e.previewTitle,visible:e.previewVisible,top:"5vh","append-to-body":""},on:{"update:visible":function(t){e.previewVisible=t}}},[a("img",{attrs:{width:"100%",src:e.previewUrl,alt:e.previewTitle}})]),a("template",{slot:"footer"},[a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.beforeDialogCloseHandle()}}},[e._v("关闭")]),a("el-button",{attrs:{type:"primary",loading:e.submitting},on:{click:e.submitUpload}},[e._v("上传")])],1)],2)},r=[],i=(a("96cf"),a("3b8d")),o=(a("7f7f"),a("ac6a"),a("456d"),a("c5f6"),a("ed08")),s=a("054f"),l=a("5f87"),c=a("3786"),u={name:"cui-upload",props:{multiple:Boolean,listType:{type:String,default:"text"},accept:{type:String,default:"image/jpeg,image/gif,image/png"},tip:String,limit:Number,beforeUpload:Function,validFile:Function},data:function(){return{uploadUrl:"",previewUrl:"",previewTitle:"图片预览",visible:!1,previewVisible:!1,reqs:{},uploadToken:""}},computed:{submitting:function(){return Object.keys(this.reqs).length>0}},methods:{isImage:function(e){return-1!==e.indexOf("image")},toggleBrowse:function(){this.visible=!this.visible},afterDialogCloseHandle:function(){this.$refs["upload"].clearFiles()},beforeDialogCloseHandle:function(){var e=this;if(this.submitting)return this.$confirm("文件上传中，是否取消上传？","提示",{type:"warning",confirmButtonText:"继续上传",cancelButtonText:"取消上传并退出"}).then(o["i"]).catch(function(){e.clearReqs(null,function(){e.visible=!1})}),!1;this.visible=!1},exceedHandle:function(){this.$alert("超过最大文件数，请移除多余文件！","提示",{type:"warning"}).catch(o["i"])},beforeRemoveHandle:function(e){return this.$confirm("确定移除文件[".concat(e.name,"]？"),"移除文件")},clearReqs:function(e,t){if(e)this.reqs[e]["abort"](),this.$delete(this.reqs,e);else for(var a in this.reqs)this.reqs[a].abort();t()},previewHandle:function(e){var t=this,a=e.raw.type,n=e.url,r=e.name;this.isImage(a)&&n&&(this.previewUrl=n,this.previewTitle=r||this.previewTitle,this.$nextTick(function(){t.previewVisible=!0}))},successHandle:function(e,t,a){this.$emit("on-upload-success",e,t,a)},submitUpload:function(){if(!this.submitting){var e=this.$refs["upload"];e&&(e.uploadFiles.length?this.$refs["upload"].submit():this.$alert("请选择需要上传的文件！","提示",{type:"warning"}).catch(o["i"]))}},uploadFileWithQiniu:function(e){var t=this,a=e.file,n=e.onSuccess,r=e.onError,i=e.onProgress,o=a.uid,c=function(){t.$delete(t.reqs,o)},u=function(){c(),n.apply(void 0,arguments)},d=function(){c();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];401===t[0].code&&l["a"].logout("登录失效，是否前往登录页重新登录？","重新登录",{confirmButtonText:"重新登录",showCancelButton:!1}),r.apply(void 0,t)},p=function(e){var t=e.total;i(t)},m=Object(s["a"])(this.uploadToken,a,u,d,p);return this.$set(this.reqs,o,m),m.abort=function(){c(),m.unsubscribe()},m},refreshUploadToken:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["b"])();case 2:t=e.sent,a=t.data,this.uploadToken=a;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.refreshUploadToken()}},d=u,p=a("2877"),m=Object(p["a"])(d,n,r,!1,null,null,null);t["a"]=m.exports},a8db:function(e,t,a){"use strict";var n=a("e265"),r=a.n(n),i=a("a4bb"),o=a.n(i);function s(e,t){if(null==e)return{};var a,n,r={},i=o()(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}function l(e,t){if(null==e)return{};var a,n,i=s(e,t);if(r.a){var o=r()(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}a.d(t,"a",function(){return l})},c369:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("cui-page",[a("el-tabs",{attrs:{closable:!1,type:"card"},on:{"tab-click":e.tab},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-tab-pane",{attrs:{lazy:!0,label:"帮助文案",name:"help"}},[a("help")],1),a("el-tab-pane",{attrs:{lazy:!0,label:"问题分类",name:"cate"}},[a("questionCate")],1),a("el-tab-pane",{attrs:{lazy:!0,label:"问答列表",name:"question"}},[a("question",{ref:"question"})],1)],1)],1)},r=[],i=(a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("list-with-search",{ref:"wrap",attrs:{remoteMethod:e.helpList,searchParams:e.search,pages:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return[a("cui-table",{attrs:{data:n}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"标题","header-align":"center"}}),a("el-table-column",{attrs:{prop:"image",label:"图片",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row.image;return a("div",{staticClass:"u-img-box",staticStyle:{width:"280px",height:"160px"}},[a("a",{attrs:{href:e.getImageUrlByKey(n),target:"__blank"}},[a("img",{directives:[{name:"pic",rawName:"v-pic",value:{img:n},expression:"{ img: image }"}]})])])}}],null,!0)}),a("el-table-column",{attrs:{prop:"type",label:"文案类型",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row.type;return[a("el-tag",{attrs:{type:e.typeOp[n]["type"]}},[e._v(e._s(e.typeOp[n]["name"]))])]}}],null,!0)}),a("el-table-column",{attrs:{prop:"sort",label:"排序",align:"center",width:"80"}}),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button-group",[a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.addOrUpdateHandle(n)}}},[e._v("修改")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.deleteHandle(n)}}},[e._v("删除")])],1)]}}],null,!0)})],1),e.addOrUpdateVisible?a("add-or-update",{ref:"addOrUpdate"}):e._e()]}}])},[a("template",{slot:"header"},[a("el-form",{attrs:{size:"mini",inline:"",model:e.search,"label-suffix":"："},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchHandle()},submit:function(e){e.preventDefault()}}},[a("el-form-item",[a("el-input",{attrs:{clearable:""},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("标题名称")])])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.searchHandle()}}},[e._v("查询")]),a("el-button",{attrs:{type:"warning",icon:"el-icon-plus"},on:{click:function(t){return e.addOrUpdateHandle()}}},[e._v("新增")])],1),a("el-form-item",[a("el-radio-group",{staticStyle:{"margin-left":"15px"},on:{change:e.searchHandle},model:{value:e.search.type,callback:function(t){e.$set(e.search,"type",t)},expression:"search.type"}},[a("el-radio",{attrs:{label:-1}},[e._v("全部")]),a("el-radio",{attrs:{label:1}},[e._v("图文")]),a("el-radio",{attrs:{label:2}},[e._v("视频")])],1)],1)],1)],1)],2)}),o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.action+"帮助文案","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",staticClass:"m-auto",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"95px","label-suffix":"："}},[a("el-form-item",{staticClass:"d-none",attrs:{prop:"id"}}),a("el-form-item",{attrs:{prop:"name",label:"文案名称"}},[a("el-input",{attrs:{placeholder:"请输入帮助文案的名称",clearable:""},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),a("el-form-item",{attrs:{prop:"image",label:"文案封面"}},[a("image-upload-wrapper",{attrs:{url:e.dataForm.image,width:"280px",paddingTop:"31%"},on:{click:e.toggleUploadBrowse}}),a("p",{staticClass:"u-help"},[e._v("建议尺寸：700*220像素")])],1),a("el-form-item",{attrs:{prop:"type",label:"文案类型"}},[a("el-radio-group",{attrs:{disabled:e.isEdit},model:{value:e.dataForm.type,callback:function(t){e.$set(e.dataForm,"type",t)},expression:"dataForm.type"}},[a("el-radio",{attrs:{label:2}},[e._v("视频")]),a("el-radio",{attrs:{label:1}},[e._v("图文")])],1)],1),1===e.dataForm.type?a("el-form-item",{attrs:{prop:"content",label:"图文内容"}},[a("u-editor",{ref:"editor",attrs:{config:{initialFrameWidth:"100%"},defaultValue:e.dataForm.content}})],1):e._e(),2===e.dataForm.type?a("el-form-item",{attrs:{prop:"content",label:"视频地址"}},[a("el-input",{attrs:{placeholder:"请输入视频地址",clearable:""},model:{value:e.dataForm.content,callback:function(t){e.$set(e.dataForm,"content",t)},expression:"dataForm.content"}})],1):e._e(),a("el-form-item",{attrs:{prop:"sort",label:"文案排序"}},[a("el-input-number",{attrs:{min:1,precision:0,"controls-position":"right"},model:{value:e.dataForm.sort,callback:function(t){e.$set(e.dataForm,"sort",t)},expression:"dataForm.sort"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",disabled:e.submitting,loading:e.submitting},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1),a("cui-upload",{ref:"cui-upload",attrs:{listType:"picture"},on:{"on-upload-success":e.imageChangeHandle}})],1)},l=[],c=a("a8db"),u=a("c1fb");function d(e){return u["a"].get("help",{params:e})}function p(e){var t=e.id,a=Object(c["a"])(e,["id"]),n={data:a,url:"help/".concat(t||""),method:t?"PUT":"POST"};return Object(u["a"])(n)}function m(e){return u["a"].delete("help/".concat(e))}function f(e){return u["a"].get("question/cate",{params:e})}function h(e){var t=e.id,a=Object(c["a"])(e,["id"]),n={data:a,url:"question/cate/".concat(t||""),method:t?"PUT":"POST"};return Object(u["a"])(n)}function b(e){return u["a"].delete("question/cate/".concat(e))}function g(e){return u["a"].get("question",{params:e})}function v(e){var t=e.id,a=Object(c["a"])(e,["id"]),n={data:a,url:"question/".concat(t||""),method:t?"PUT":"POST"};return Object(u["a"])(n)}function y(e){return u["a"].delete("question/".concat(e))}var w=a("9dac"),_=a("ed08"),k=a("982c"),$={name:"AddOrUpdate",components:{cuiUpload:w["a"],uEditor:k["a"]},computed:{action:function(){return this.dataForm.id?"修改":"新增"},isEdit:function(){return!!this.dataForm.id}},inject:["updateTableData"],data:function(){return{visible:!1,submitting:!1,dataForm:{id:0,name:"",image:"",content:"",type:2,sort:0},dataRule:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],image:[{required:!0,message:"首图不能为空",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"}],sort:[{required:!0,message:"排序不能为空",trigger:"blur"}]}}},methods:{init:function(e){var t=this;this.visible=!0,this.$nextTick(function(){t.$refs["dataForm"].resetFields(),e&&e.id&&Object(_["a"])(t.dataForm,e)})},toggleUploadBrowse:function(){this.$refs["cui-upload"]["toggleBrowse"]()},imageChangeHandle:function(e){var t=this,a=e.filename;this.$message.success("图片上传成功！"),this.$refs["cui-upload"]["toggleBrowse"](),this.$nextTick(function(){t.dataForm.image=a})},dataFormSubmit:function(){var e=this;this.$refs["dataForm"].validate(function(t){if(t){var a=Object.assign({},e.dataForm);a.content=1===e.dataForm.type?e.$refs["editor"]["getContent"]():e.dataForm.content,p(a).then(function(t){var a=t.message,n=void 0===a?"操作成功":a;e.visible=!1,e.$message.success(n),e.updateTableData()}).catch(function(t){var a=t.message,n=void 0===a?"操作失败！":a;e.$message.error(n)}).finally(function(){e.submitting=!1})}else e.submitting=!1})}}},x=$,F=a("2877"),O=Object(F["a"])(x,s,l,!1,null,null,null),H=O.exports,C=a("11c1"),T=a("054f"),U={name:"Help",components:{addOrUpdate:H,listWithSearch:C["a"]},provide:function(){return{updateTableData:this.updateTableData}},data:function(){return{search:{name:"",type:-1},typeOp:["",{type:"success",name:"图文"},{type:"primary",name:"视频"}],addOrUpdateVisible:!1}},methods:{helpList:d,getImageUrlByKey:T["b"],searchHandle:function(){this.$refs["wrap"].searchHandle()},updateTableData:function(){this.$refs["wrap"]&&this.$refs["wrap"].updateDataHandle()},deleteHandle:function(e){var t=this,a=e.id,n=e.name;this.$confirm("确定对帮助文案「".concat(n,"」进行删除操作？"),"删除帮助文案",{type:"error"}).then(function(){m(a).then(function(e){var a=e.message,n=void 0===a?"删除成功":a;t.$message.success(n),t.updateTableData()}).catch(function(e){var a=e.message,n=void 0===a?"删除失败！":a;t.$message.error(n)})}).catch(function(){})},addOrUpdateHandle:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.addOrUpdateVisible=!0,this.$nextTick(function(){e.$refs.addOrUpdate&&e.$refs.addOrUpdate.init(t)})}}},q=U,j=Object(F["a"])(q,i,o,!1,null,null,null),S=j.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("list-with-search",{ref:"wrap",attrs:{remoteMethod:e.remoteMethod,searchParams:e.search,pages:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return[a("cui-table",{attrs:{data:n}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",align:"center"}}),a("el-table-column",{attrs:{prop:"questions",label:"问题","header-align":"center"}}),a("el-table-column",{attrs:{prop:"answers",label:"答案","header-align":"center"}}),a("el-table-column",{attrs:{prop:"cate.name",label:"问题分类",width:"160",align:"center"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"state",label:"状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row.is_hot;return[a("el-tag",{attrs:{type:n?"success":"warning"}},[e._v(e._s(n?"热门":"非热门"))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button-group",[a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.addOrUpdateHandle(n)}}},[e._v("修改")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.deleteHandle(n)}}},[e._v("删除")])],1)]}}],null,!0)})],1),e.addOrUpdateVisible?a("add-or-update",{ref:"addOrUpdate",attrs:{helpCate:e.helpCate}}):e._e()]}}])},[a("template",{slot:"header"},[a("el-form",{attrs:{size:"mini",inline:!0,"label-suffix":"："},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateTableData()}}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择问题分类",clearable:""},on:{change:function(t){return e.updateTableData()}},model:{value:e.search.cate_id,callback:function(t){e.$set(e.search,"cate_id",t)},expression:"search.cate_id"}},e._l(e.helpCate,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"warning",icon:"el-icon-plus"},on:{click:function(t){return e.addOrUpdateHandle()}}},[e._v("新增")])],1),a("el-form-item",[a("el-radio-group",{staticStyle:{"margin-left":"15px"},on:{change:function(t){return e.updateTableData()}},model:{value:e.search.is_hot,callback:function(t){e.$set(e.search,"is_hot",t)},expression:"search.is_hot"}},[a("el-radio",{attrs:{label:-1}},[e._v("全部")]),a("el-radio",{attrs:{label:1}},[e._v("热门")]),a("el-radio",{attrs:{label:0}},[e._v("非热门")])],1)],1)],1)],1)],2)},E=[],R=a("768b"),V=(a("ac6a"),a("5df3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.action+"问答","close-on-click-modal":!1,visible:e.visible,width:"650px"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",staticClass:"m-auto",staticStyle:{width:"500px"},attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"95px","label-suffix":"："}},[a("el-form-item",{staticClass:"d-none",attrs:{prop:"id"}}),a("el-form-item",{attrs:{prop:"cate_id",label:"分类"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.dataForm.cate_id,callback:function(t){e.$set(e.dataForm,"cate_id",t)},expression:"dataForm.cate_id"}},e._l(e.helpCate,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{prop:"questions",label:"问题"}},[a("el-input",{attrs:{placeholder:"请输入问题",clearable:""},model:{value:e.dataForm.questions,callback:function(t){e.$set(e.dataForm,"questions",t)},expression:"dataForm.questions"}})],1),a("el-form-item",{attrs:{prop:"answers",label:"答案"}},[a("el-input",{attrs:{rows:6,type:"textarea",placeholder:"请输入答案",clearable:""},model:{value:e.dataForm.answers,callback:function(t){e.$set(e.dataForm,"answers",t)},expression:"dataForm.answers"}})],1),a("el-form-item",{attrs:{prop:"is_hot",label:"热门"}},[a("el-radio-group",{model:{value:e.dataForm.is_hot,callback:function(t){e.$set(e.dataForm,"is_hot",t)},expression:"dataForm.is_hot"}},[a("el-radio",{attrs:{label:1}},[e._v("热门")]),a("el-radio",{attrs:{label:0}},[e._v("非热门")])],1)],1),a("el-form-item",{attrs:{prop:"sort",label:"排序"}},[a("el-input-number",{attrs:{min:0,precision:0,"controls-position":"right"},model:{value:e.dataForm.sort,callback:function(t){e.$set(e.dataForm,"sort",t)},expression:"dataForm.sort"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",disabled:e.submitting,loading:e.submitting},on:{click:e.dataFormSubmit}},[e._v("确定")])],1)],1)}),z=[],B=a("cebc"),P={name:"dataFormAddOrUpdate",props:{helpCate:{type:Array,required:!0}},inject:["updateTableData"],computed:{action:function(){return this.dataForm.id?"修改":"新增"}},data:function(){return{visible:!1,submitting:!1,dataForm:{id:0,cate_id:"",questions:"",answers:"",is_hot:1,sort:0},dataRule:{cate_id:[{required:!0,message:"请选择分类",trigger:"blur"}],questions:[{required:!0,message:"问题不能为空",trigger:"blur"}],answers:[{required:!0,message:"答案不能为空",trigger:"blur"}],is_hot:[{required:!0,message:"请选择是否热门",trigger:"blur"}],sort:[{required:!0,message:"排序不能为空",trigger:"blur"}]}}},methods:{init:function(e){var t=this;this.visible=!0,this.$nextTick(function(){if(t.$refs["dataForm"].resetFields(),e&&e.id>0){var a=e.is_hot;Object(_["a"])(t.dataForm,Object(B["a"])({},e,{is_hot:a?1:0}))}})},dataFormSubmit:function(){var e=this;this.submitting||(this.submitting=!0,this.$refs["dataForm"].validate(function(t){t?v(e.dataForm).then(function(t){var a=t.message,n=void 0===a?"操作成功":a;e.$message.success(n),e.updateTableData(),e.visible=!1}).catch(function(t){var a=t.message;e.$message.error(a)}).finally(function(){e.submitting=!1}):e.submitting=!1}))}}},I=P,A=Object(F["a"])(I,V,z,!1,null,null,null),L=A.exports,W={name:"Question",components:{addOrUpdate:L,listWithSearch:C["a"]},provide:function(){return{updateTableData:this.updateTableData}},data:function(){return{hotOptions:[{type:"warning",name:"非热门"},{type:"success",name:"热门"}],search:{is_hot:-1,cate_id:""},helpCate:[],addOrUpdateVisible:!1}},methods:{initCates:function(){var e=this;f({page_sign:2}).then(function(t){var a=t.data;e.helpCate=a})},remoteMethod:function(){var e=this,t=[g.apply(void 0,arguments)];return this.helpCate.length||t.push(f({page_sign:2})),Promise.all(t).then(function(t){var a=Object(R["a"])(t,2),n=a[0],r=a[1];r=void 0===r?{}:r;var i=r.data;return!e.helpCate.length&&(e.helpCate=i),n})},updateTableData:function(){this.$refs["wrap"]&&this.$refs["wrap"].updateDataHandle()},deleteHandle:function(e){var t=this,a=e.id,n=e.questions;this.$confirm("确定对问答「".concat(n,"」进行删除操作？"),"删除问答",{type:"error"}).then(function(){y(a).then(function(e){var a=e.message,n=void 0===a?"删除成功":a;t.$message.success(n),t.updateTableData()}).catch(function(e){var a=e.message,n=void 0===a?"删除失败！":a;t.$message.error(n)})}).catch(_["i"])},addOrUpdateHandle:function(e){var t=this;this.addOrUpdateVisible=!0,this.$nextTick(function(){t.$refs.addOrUpdate.init(e)})}}},M=W,Q=Object(F["a"])(M,D,E,!1,null,null,null),N=Q.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("list-with-search",{ref:"wrap",attrs:{remoteMethod:e.questionCateList,searchParams:e.search,pages:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return[a("cui-table",{attrs:{data:n}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"名称","header-align":"center"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序",align:"center",width:"240"}}),a("el-table-column",{attrs:{prop:"state",label:"显示状态",align:"center",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row.state;return[a("el-tag",{attrs:{type:e.statusOp[n]["type"]}},[e._v(e._s(e.statusOp[n]["name"]))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button-group",[a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.addOrUpdateHandle(n)}}},[e._v("修改")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.deleteHandle(n)}}},[e._v("删除")])],1)]}}],null,!0)})],1),e.addOrUpdateVisible?a("add-or-update",{ref:"addOrUpdate"}):e._e()]}}])},[a("template",{slot:"header"},[a("el-form",{attrs:{size:"mini",inline:"","label-suffix":"："},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchHandle(t)}}},[a("el-form-item",[a("el-button",{attrs:{type:"warning",icon:"el-icon-plus"},on:{click:function(t){return e.addOrUpdateHandle()}}},[e._v("新增")])],1),a("el-form-item",[a("el-radio-group",{staticStyle:{"margin-left":"15px"},on:{change:e.searchHandle},model:{value:e.search.state,callback:function(t){e.$set(e.search,"state",t)},expression:"search.state"}},[a("el-radio",{attrs:{label:-1}},[e._v("全部")]),a("el-radio",{attrs:{label:1}},[e._v("显示")]),a("el-radio",{attrs:{label:0}},[e._v("不显示")])],1)],1)],1)],1)],2)},J=[],K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.action+"问题分类","close-on-click-modal":!1,visible:e.visible,width:"600px"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",staticClass:"m-auto",staticStyle:{width:"450px"},attrs:{model:e.dataForm,rules:e.dataRules,"label-width":"95px","label-suffix":"："}},[a("el-form-item",{staticClass:"d-none",attrs:{prop:"id"}}),a("el-form-item",{attrs:{prop:"name",label:"分类名称"}},[a("el-input",{attrs:{placeholder:"请输入问题分类名称",clearable:""},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),a("el-form-item",{attrs:{prop:"type",label:"分类状态"}},[a("el-radio-group",{model:{value:e.dataForm.state,callback:function(t){e.$set(e.dataForm,"state",t)},expression:"dataForm.state"}},[a("el-radio",{attrs:{label:1}},[e._v("显示")]),a("el-radio",{attrs:{label:0}},[e._v("隐藏")])],1)],1),a("el-form-item",{attrs:{prop:"sort",label:"分类排序"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,precision:0},model:{value:e.dataForm.sort,callback:function(t){e.$set(e.dataForm,"sort",t)},expression:"dataForm.sort"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",disabled:e.submitting,loading:e.submitting},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},X=[],Y={name:"dataFormAddOrUpdate",inject:["updateTableData"],data:function(){return{visible:!1,submitting:!1,dataForm:{id:0,name:"",state:1,sort:0},dataRules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],state:[{required:!0,message:"请选择显示状态",trigger:"blur"}],sort:[{required:!0,message:"排序不能为空",trigger:"blur"}]}}},computed:{action:function(){return this.dataForm.id?"修改":"增加"}},methods:{init:function(e){var t=this;this.visible=!0,this.$nextTick(function(){t.$refs["dataForm"].resetFields(),e&&e.id&&Object(_["a"])(t.dataForm,e)})},dataFormSubmit:function(){var e=this;this.submitting||(this.submitting=!0,this.$refs["dataForm"].validate(function(t){t?h(e.dataForm).then(function(t){var a=t.message,n=void 0===a?"操作成功":a;e.visible=!1,e.$message.success(n),e.updateTableData()}).catch(function(t){var a=t.message,n=void 0===a?"操作失败！":a;e.$message.error(n)}).finally(function(){e.submitting=!1}):e.submitting=!1}))}}},Z=Y,ee=Object(F["a"])(Z,K,X,!1,null,null,null),te=ee.exports,ae={name:"QuestionCate",components:{addOrUpdate:te,listWithSearch:C["a"]},provide:function(){return{updateTableData:this.updateTableData}},data:function(){return{search:{state:-1},statusOp:[{type:"danger",name:"隐藏"},{type:"success",name:"显示"}],addOrUpdateVisible:!1}},methods:{questionCateList:f,searchHandle:function(){this.$refs["wrapper"].searchHandle()},updateTableData:function(){this.$refs["wrap"]&&this.$refs["wrap"].updateDataHandle()},addOrUpdateHandle:function(e){var t=this;this.addOrUpdateVisible=!0,this.$nextTick(function(){t.$refs["addOrUpdate"]&&t.$refs["addOrUpdate"].init(e)})},deleteHandle:function(e){var t=this,a=e.id,n=e.name;this.$confirm("确定对问题分类「".concat(n,"」进行删除操作？"),"删除问题分类",{type:"error"}).then(function(){b(a).then(function(e){var a=e.message,n=void 0===a?"删除成功！":a;t.$message.success(n),t.updateTableData()}).catch(function(e){var a=e.message,n=void 0===a?"删除失败！":a;t.$message.error(n)})}).catch(_["i"])}}},ne=ae,re=Object(F["a"])(ne,G,J,!1,null,null,null),ie=re.exports,oe={name:"HelpAndAnswer",components:{help:S,question:N,questionCate:ie},data:function(){return{active:this.$route.query.tab||"help"}},methods:{tab:function(e){var t=e.name;this.$router.push({name:"help",query:{tab:t}}),"question"===t&&this.$refs.question&&this.$refs.question.initCates()}}},se=oe,le=Object(F["a"])(se,n,r,!1,null,null,null);t["default"]=le.exports}}]);